## 一、薄壳的变形和自由度分析
### (1) 壳体变形的特点
相对于**薄板的弯曲变形**，薄壳需要**考虑面内的伸缩变形**
**横截面上的正应力**和**平行于中曲面内的剪应力**
将壳块使用矩形的单元来代替， 而最终将壳体分割为多个不同的四边形壳块，而形成一个折板结构
![[Excalidraw/第六章 薄壳 2023-04-17 09.55.56|300]]
我们采用位移法，**只分析壳体中曲面的位移**，可以采用正交曲线坐标系，将中曲面上点在空间的位移==分为沿中面切向的位移$u,v$和垂直与中面的位移$w$== 。

认为**薄板的弯曲变形和面内的伸缩变形不耦合**。
![[Excalidraw/第六章 薄壳 2023-04-17 10.01.56|300]]
`````ad-caution
title: 自由度分析
collapse: open
对于上图中的节点，我们除考虑壳体的$w,\theta_{xi}, \theta_{yi}$ , 需要考虑面内的伸缩变形$u,v$

为了编程计算方便，需要引入一个虚加的自由度$\theta_{zi}$， 因此一个节点共有6个自由度$u,v, w , \theta_{xi}\theta_{yi}\theta_{zi}$


`````

其中变形分为两部分
1. 平面内变形:  一个节点的变形为$u_i,v_i$,<mark style="background: transparent; color: yellow">单元有4个节点和8项面内节点位移(8个自由度)</mark>
2. 弯曲变形: 单个节点位移有$w_i', \theta_{xi}', \theta_{yi}'$,因此<mark style="background: transparent; color: yellow">单元有4个节点，共有12项弯曲变形的节点位移</mark>

## 二、矩形板单元的柱壳分析
### (1) 单元刚阵的变换与叠加
对于柱壳结构，由于母线互相平行， 我们沿母线和母线的垂直方向将柱壳划分为壳块， 网格足够密集时，壳块趋于扁平，则可以用于近似真实结构。

在柱壳中，与同一节点相邻的单元可能有不同功能的局部坐标，需要**变换到统一的坐标系**。对于柱壳我们可以设薄壳单元与$z$轴的夹角为$\varphi$，而母线为y轴，则
![[Excalidraw/第六章 薄壳 2023-05-18 20.28.27|300]]
由于$u,v,w$是在局部坐标系$u',v',w'$中给出的， 我们记坐标变换矩阵为$[\phi]$，则: 
$$\boxed{\left\{\begin{matrix}
u' \\ v'  \\ w' 
\end{matrix} \right\} =\left[\begin{matrix}
\cos \varphi & 0 & -\sin \varphi \\
0 & 1 & 0 \\
\sin \varphi & 0 & \cos\varphi 
\end{matrix}\right]\left\{\begin{matrix}
u\\ v \\ w
\end{matrix}\right\} = [\phi]\left\{\begin{matrix}
u\\ v \\ w
\end{matrix}\right\}}$$
显然地，转角也有类似的关系，因此得到
$$\left\{\begin{matrix}
u' \\ v'  \\ w' \\ \theta_{xi}' \\ \theta_{yi}' \\ \theta_{zi}'
\end{matrix} \right\} = \left[\begin{matrix}
\phi & 0 \\ 0 &\phi 
\end{matrix}\right] \left\{\begin{matrix}
u \\ v \\ w \\ \theta_{xi}  \\ \theta_{yi} \\ \theta_{zi}
\end{matrix} \right\} = [\lambda] \left\{\begin{matrix}
u \\ v \\ w \\ \theta_{xi}  \\ \theta_{yi} \\ \theta_{zi}
\end{matrix} \right\}$$
由于一个单元有4个节点，则可以将其中的四个节点的位移分量展开成$24 \times  1$的列向量，则有
$$\Large\left\{ \delta_e '\right\} = [T]\left\{ \delta\right\}^e$$
其中:
$$[T] = \left[\begin{matrix}
\lambda \\
& \lambda\\
&& \lambda \\
&&& \lambda 
\end{matrix}\right]$$
而**刚度矩阵的变换关系**为：
$$\Large[k]^e = [T]^{T} [k']^e [T]\tag{6.5}$$
在式$(6.5)$中，由于$[k'^e ]$面内的刚度与弯曲刚度分离，不相耦合， 因此非零元素较多，而变换后的$[k]^e$一般是满矩阵。==之后，我们需要将单元刚度矩阵叠加成为整体刚度矩阵，以求出全部节点位移==

### (2) 节点载荷求解
在**总体刚度矩阵**$[K]$组装完毕之后，**整体坐标系下**的坐标列向量为： 
$$[K]\left\{ \delta\right\} = \left\{ Q\right\}$$
为了将单元分布力等效分配到各个节点上
1. 对于单元在平面内受到$x',y'$方向的单位面积力$p_x', p_y'$， 则分配到单元的节点上的面内单元载荷为：
$$\{Q_p'\}^e = \int_{\Omega^e} [N_p]^T \left\{\begin{matrix}
p_x'  \\ p_y' 
\end{matrix} \right\} dx'dy'$$
2. 对于沿法线$z'$方向受到有单位面积的横向力$p'_z$时， 则分配到4个节点有弯曲的单元节点载荷为: 
$$\{Q_b'\}^e = \int_{\Omega^e} [N_b]^T \left\{\begin{matrix}
p_z'
\end{matrix} \right\} dx'dy'$$
其中$[N_b]$为弯曲刚度矩阵，计算参考[[📘ClassNotes/👨‍🔧Mechanics/🖥️Computational_Mechanics/🕸️FEM Analysis/Structural FEM Analysis/第五章 薄板的弯曲#二、矩形薄板的四节点单元|第五章 薄板的弯曲公式5.11]]
其中，可得局部坐标系内载荷列阵为: 
$$\{Q_i'\}^e = [X_i' \quad  Y_i' \quad Z_i' \quad M_{xi}' \quad M_{yi}' \quad 0]$$

### (3) 应力计算
使用整体到局部的坐标变换公式， 有：
$$[K]\{\delta\} = \{ Q\}\qquad  \{ \delta'\}_e  = [T]\{\delta\}^e$$
接下来，我们便可<u><mark style="background: transparent; color: yellow">直接将其代入整体系下的位移和刚度矩阵公式</mark></u>得到:
1) 单元的面内应力为: 
$$[\sigma] = [D_p][B_p]\{\delta_p'\}^e$$
其中$\left\{ \delta_p'\right\}^e$为$u,v$为薄板的<mark style="background: transparent; color: yellow">两个方向的面内变形</mark>(局部坐标系的位移)， $[B_p]$为平面矩形的应变矩阵。
2) 单元的弯矩为:
$$[M] = [D_b][B_b]\left\{ \delta_b'\right\}^e$$
其中，$[D_b]$为弯曲刚度矩阵

`````ad-note
title:整体坐标系和局部坐标系
collapse: open
局部坐标系下的刚度矩阵， 通过局部坐标系求解单元的应力和应变
`````


## 三、三角形单元刚度矩阵坐标的变换过程

`````ad-todo
title: 补充
collapse: open
`````

确定$z'$与三个坐标轴的方向余弦， 
$$\left|\overline{lm}\times \overline{ln}  \right| = 2\Delta $$
其中三角形面积为$\Delta$
$$\overline{lm}\times \overline{ln}  = \left[\begin{matrix}
\bar{i} & \bar{j} & \bar{k} \\
(x_m  - x_l)  & (y_m - y_l )  & (z_m - z_l) \\
(x_n - x_l) & (y_n - y_l)  & (z_n - z_l)
\end{matrix}\right]$$

由于保证刚度矩阵的非奇异性，有： 
$$[k_{rs}'] = \left[\begin{matrix}
k_{rs}'^p \\
& k_{rs}'^b  \\
&& \varepsilon
\end{matrix}\right]$$
其中$\varepsilon$是一个非常小的数，必须比求解问题的规模小几个数量级

## 四、轴对称薄壳的变形
对于轴对称形式的薄壳，中曲面上的点仅有沿中曲面切线方向$s$和垂直与$s$方向，因而仅有沿s和环向的两个曲率$\frac{1}{\rho_s}$ 和 $\frac{1}{\rho_{\theta}}$， 而没有扭曲率， 而正应变仅有沿$s$的正应变$\varepsilon_s$和垂直于$s$的环向应变$\varepsilon_\theta$， 将此四项应变记为$\varepsilon$，则有： 
![[Excalidraw/第六章 薄壳 2023-05-19 00.08.20|250]]
设$\varphi$为$s$方向切线与径向$r$的夹角，则有应变更是： 
$$\{ \varepsilon\} =\left\{\begin{matrix}
\varepsilon_r \\ \varepsilon_\theta  \\ \frac{1}{\rho_s} \\ \frac{1}{\rho_\theta} 
\end{matrix} \right\} = \left[\begin{matrix}
\frac{d}{ds} & 0 \\ 
\frac{\cos \varphi}{r} & \frac{\sin \varphi}{r} \\
0 & - \frac{d^2}{ds^2} \\
0 & -\frac{\cos \varphi}{r}\frac{d}{ds}
\end{matrix}\right] \left\{\begin{matrix}
u' \\ w'
\end{matrix} \right\}$$
对于各个应变，中曲面内有中曲线$s$方向以及环向的膜力$N_s, N_\theta$， 而$M_s, M_\theta$对应两个主曲率下的弯矩， 我们将四项对于$h$进行积分，得到应力与应变的关系：
$$[\sigma] = \left[\begin{matrix}
N_s \\  N_\theta \\ M_s \\ M_\theta 
\end{matrix}\right] = \frac{E}{1- \nu^2}\left[\begin{matrix}
h & \nu h \\
\nu h & h \\
&& \frac{h^3}{12} &  \frac{\nu h^3}{12}  \\
&& \frac{\nu h^3}{12} & \frac{h^3}{12} 
\end{matrix}\right]\left\{\begin{matrix}
\varepsilon_s \\ \varepsilon_\theta \\ \frac{1}{\rho_s} \\ \frac{1}{\rho_\theta}
\end{matrix} \right\} = [D]\left\{\varepsilon \right\}$$
