## 一、薄壳的变形和自由度分析
### (1) 壳体变形的特点
相对于薄板的弯曲变形，薄壳需要**考虑面内的变形**
横截面上的正应力和中面内的正应力
将壳块使用矩形的单元来代替， 而最终将壳体分割为多个不同的四边形壳块，而形成一个折板结构
![[Excalidraw/第六章 薄壳 2023-04-17 09.55.56|300]]

认为薄板的弯曲变形和面内的伸缩变形不耦合，
![[Excalidraw/第六章 薄壳 2023-04-17 10.01.56|300]]
为了编程计算方便，需要引入一个虚加的自由度$\theta_{zi}$， 因此一个节点共有6个自由度$u,v, w , \theta_{xi}\theta_{yi}\theta_{zi}$(实际是5个,4个节点共有20个自由度)

其中变形分为两部分
1. 平面内变形:  一个节点的变形为$u_i,v_i$,<mark style="background: transparent; color: yellow">单元有4个节点和8项面内节点位移(8个自由度)</mark>
2. 弯曲变形: 单个节点位移有$w_i', \theta_{xi}', \theta_{yi}'$,因此<mark style="background: transparent; color: yellow">单元有4个节点，共有12项弯曲变形的节点位移</mark>

## 二、单元刚阵的变换与叠加
由于$u,v,w$是在局部坐标系$u',v',w'$中给出的
$$\left\{\begin{matrix}
u' \\ v'  \\ w' 
\end{matrix} \right\} =\left[\begin{matrix}
\cos \varphi & 0 & -\sin \varphi \\
0 & 1 & 0 \\
\sin \varphi & 0 & \sin\varphi 
\end{matrix}\right]\left\{\begin{matrix}
u\\ v \\ w
\end{matrix}\right\} = [\phi]\left\{\begin{matrix}
u\\ v \\ w
\end{matrix}\right\}$$


一个节点的六个自由度形成一个6x6的变换矩阵
$$[k_{rs}'] = \left[\begin{matrix}
k_{rs}'^{p} \\
& k_{rs}'^{b} \\
& & 0
\end{matrix}\right]\qquad (r,s = k,l,m,n)$$

$$\left\{ \delta_e '\right\} = [T]\left\{ \delta\right\}^e$$
$$[T] = \left[\begin{matrix}
\lambda \\
& \lambda\\
&& \lambda \\
&&& \lambda 
\end{matrix}\right]$$

$$[k]^e = [T]^{-1} [k']^e [T]$$
两个单元不共面时， 容易
保证$y'$和$y$相平行， 则：
$$\left\{\begin{matrix}
u' \\ v' \\ w'
\end{matrix} \right\} = \left[\begin{matrix}
\cos \varphi & 0 & -\sin \varphi \\
0 & 1 & 0  \\
\sin  \varphi & 0  & \cos \varphi
\end{matrix}\right]\left\{\begin{matrix}
u\\ v \\ w
\end{matrix} \right\} = [\phi ]\left\{\begin{matrix}
u \\ v \\ w 
\end{matrix} \right\}$$
单元载荷变换关系为： 
$$\left\{ Q'_b\right\}^e = [T]\left\{Q \right\}^e$$
其中$[T]$为<mark style="background: transparent; color: yellow">坐标变换矩阵</mark>，


整体坐标系下的整体坐标列向量为： 
$$[K]\left\{ \delta\right\} = \left\{ Q\right\}$$
单元的面内应力为: 
$$[\sigma] = [D_p][B][\delta_p']^e$$
其中$\left\{ \delta_p'\right\}^e$为$u,v$为薄板的<mark style="background: transparent; color: yellow">两个方向的面内变形</mark>(局部坐标系的位移)
而单元的弯矩为：
$$[M] = [D_b][B_b]\left\{ \delta_b'\right\}^e$$
`````ad-note
title:整体坐标系和局部坐标系
collapse: open
局部坐标系下的刚度矩阵， 通过局部坐标系求解单元的应力和应变
`````

## 三、刚度矩阵坐标的变换过程
确定$z'$与三个坐标轴的方向余弦， 

$$\left|\overline{lm}\times \overline{ln}  \right| = 2\Delta $$
其中三角形面积为$\Delta$
$$\overline{lm}\times \overline{ln}  = \left[\begin{matrix}
\bar{i} & \bar{j} & \bar{k} \\
(x_m  - x_l)  & (y_m - y_l )  & (z_m - z_l) \\
(x_n - x_l) & (y_n - y_l)  & (z_n - z_l)
\end{matrix}\right]$$

由于保证刚度矩阵的非奇异性，有： 
$$[k_{rs}'] = \left[\begin{matrix}
k_{rs}'^p \\
& k_{rs}'^b  \\
&& \varepsilon
\end{matrix}\right]$$
其中$\varepsilon$是一个非常小的数，必须比求解问题的规模小几个数量级
## 四、轴对称薄壳的变形

使用线性单元

$$[\sigma] = \left[\begin{matrix}
N_s \\  N_\theta \\ M_s \\ M_\theta 
\end{matrix}\right] = \frac{E}{1- \nu^2}\left[\begin{matrix}
h & \nu h \\
\nu h & h \\
&& \frac{h^3}{12} &  \frac{\nu h^3}{12}  \\
&& \frac{\nu h^3}{12} & \frac{h^3}{12} 
\end{matrix}\right]\left\{\begin{matrix}
\varepsilon_s \\ \varepsilon_\theta \\ \frac{1}{\rho_s} \\ \frac{1}{\rho_\theta}
\end{matrix} \right\} = [D]\left\{\varepsilon \right\}$$
