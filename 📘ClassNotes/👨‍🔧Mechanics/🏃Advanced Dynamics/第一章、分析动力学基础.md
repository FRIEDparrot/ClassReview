## 一、约束的概念与分类
分析力学的基本概念和建立方法：
分析力学是以<mark style="background: transparent; color: yellow">功和能等标量</mark>为基本概念，引入广义坐标描述系统的位形，  使用分析建立系统的运动微分方程
其主要内容是<mark style="background: transparent; color: yellow">拉格朗日方程，罗斯方程和凯恩方程</mark>等等

##### 相关概念: 
设整个系统由n个质点组成
系统的位形：n个质点占据空间位置的集合，系统的位形描述了系统内各个质点空间位置的<u>几何分布</u>情况
系统的状态: **系统的位形和系统内各个质点的速度分布**

### 约束
自由系统是系统状态不受任何约束，而受到约束为非自由系统；其中约束可分为定常约束和非定常约束，完整约束和非完整约束，单面/双面约束

定常约束方程为： 
$$f(x_1,y_1,z_1,...x_n,y_n,z_n, \dot{x}_1,\dot{y}_1,\dot{z}_1 ....\dot{z}_n) = 0 $$
而非定常约束的约束方程中含有时间$t$项，其方程**显含时间**

完整约束**不显含对于速度的约束**, 而非完整约束**显含对速度的约束**

其中，对于**完整约束，可以积分成有限的形式， 而非完整约束必须使用微分方程表达**

![[第一章、分析动力学基础 2023-03-10 14.33.46|350]]

而对于单面和双面，等式表示为单面约束，不等式表示为双面约束

## 二、虚位移，自由度和广义坐标

假设某个系统由$n$个质点组成， 且有m个完整约束
$$f(x_1,y_1,z_1,...x_n,y_n,z_n, t) = 0 \tag{1.2.1}$$
以及$p$个非完整约束
$$\sum^{n}_{j=1} (a_{kj} \dot{x}_j + b_{kj}\dot{y}_j + c_{kj}\dot{z}_j) + e_k  =0 \tag{1.2.2}$$
则对$(1.2.1)$对$dt$取全微分，并和$(1.2.2)$两边同乘$dt$之后联立，得到<mark style="background: transparent; color: yellow">微分形式的约束方程: </mark>
$$\begin{cases}
\sum^{n}_{j=1} \left( \frac{\partial f_i}{\partial x_j} d x_j + \frac{\partial f_i}{\partial y_j} d y_j + \frac{\partial f_i}{\partial z_j} d z_j\right) + \frac{\partial f_i}{\partial t} dt = 0 \quad  \text{for i = 1,2, ...m} \\
\sum^{n}_{j=1} \left( a_{kj} dx_j + b_{kj} dy_j + c_{kj} dz_j \right) +e_k dt = 0 \quad \text{for  k = 1,2 ... p} \end{cases}$$
其中$f$为约束方程，位移$dr_j = (dx_j,dy_j,dz_j)$必须满足上述方程。 

假设在同一时刻物体有两个可能的位移$dr_j,dr_j'$，则<mark style="background: transparent; color: yellow">虚位移</mark>定义为$\delta r = (\delta x_j , \delta y_j, \delta z_j)$
$$\delta r_j = dr_j  - dr_j'$$
则显然虚位移满足上述齐次方程组不包含$dt$的形式（形式略去）

由于上述的方程总个数为$m+p$，则$3n$个坐标的变分中，独立的个数为：
$$\Large \boxed{l = 3n - m -p}$$
则$l$称为**系统的自由度**

自由度是系统本身的特征，取决于系统的结构特征和内外约束条件， 并不依赖于描述系统位形所采用的一组特定的坐标。

`````ad-note 
title: 广义坐标的概念
collapse: close

广义坐标： 称**任何一组能够用来描述系统位形的参量**为系统的广义坐标

对于**完整系统**，描述其位形所需的<mark style="background: transparent; color: yellow">独立广义坐标的个数总是等于系统的自由度</mark>

对于非完整系统，承受$m$个完整约束和$p$个非完整约束。由于其中$p$个方程不能积分成与坐标相关的有限关系式，其==位形的描述仍然需要$3n-m$个独立的广义坐标==


结论：

- 描述系统位移的独立广义坐标的个数总是大于或者等于系统的自由度


例如下面的部分可以使用$\theta_1,\theta_2$两个广义坐标来进描述

![[第一章、分析动力学基础 2023-03-10 15.29.22|400]]
`````

## 三、动力学普遍方程
#### (1) 理想约束
分析力学的主要目的：<mark style="background: transparent; color: yellow">建立不涉及未知约束反力的非自由系统的运动方程式</mark>

如果**某种约束的==约束力==在系统的任何虚位移中的==元功之和等于零==**， 则称有这种特定的约束为<mark style="background: transparent; color: yellow">理想约束</mark>

常见的理想约束： 
- 柔绳约束
- 光滑接触面约束
- 纯滚动接触面约束

设系统由$n$个质点组成，且其中的第$i$个质点$M_i$的质量为$m_i$，且其受到**主动力和约束力**分别为$F_i$和$R_i$
则**理想约束的条件可以表示为**
$$\boxed {\sum^{n}_{i=1} R_i \cdot \delta r_i = 0}$$

#### (2) 动力学普遍方程
设$n$个质点系统，受到**主动力和约束力**分别为$F_i$和$R_i$, 并且相对于惯性系$Oxyz$的加速度为$a_i$
由牛顿第二定律，
$$m_ia_i =  F_i + R_i$$
则有推导：$R_i  = m_i a_i -F_i$，故
$$\boxed{\sum^{n}_{i=1} (\boldsymbol{F}_i - m_i\boldsymbol{a}_i) \delta \boldsymbol{r}_i = 0}$$
动力学普遍方程的表述：
在任一时刻，作用在受<mark style="background: transparent; color: yellow">理想约束</mark>的系统上的所有的主动力和惯性力的虚功之和为零
这种表述也称为**拉格朗日形式的达朗贝尔原理**

## 四、第二类拉格朗日方程
系统的位形除了可以使用直角坐标表示，也可以使用<mark style="background: transparent; color: yellow">广义坐标</mark>来进行表示
设某一受理想约束的系统由$n$个质点组成，且设$q_1, q_2,...q_k$为系统的独立广义坐标

推导拉格朗日方程时需要使用到两个方程即拉格朗日变换式：
$$\boxed{\frac{\partial \dot{r}_i}{\partial \dot{q}_j} = \frac{\partial r_i}{\partial q_j}}$$
$$\boxed{\frac{\partial \dot{r}_i}{\partial q_j} = \frac{d}{dt}\left( \frac{\partial r_i}{\partial q_j}\right)}$$
推导中定义**广义力**
$$\boxed{Q_j = \sum^{n}_{i=1} F_i \cdot \frac{\partial \boldsymbol{r}_i}{\partial q_j} \quad  (j = 1,2,...k)}$$
以及**广义惯性力**
$$Q_j' = -\sum^{n}_{i=1} m_i \ddot{\boldsymbol{r}}_i \cdot \frac{\partial r_i}{\partial q_j}$$
以及**系统动能**
$$\boxed{T = \sum^{n}_{i=1} \frac{1}{2} m_i \dot{r}_i \cdot  r_i}$$
经过[[拉格朗日变换式和拉格朗日方程的推导.pdf]]，得到：

`````ad-note
title: 广义形式的动力学普遍方程
collapse: close
$$\sum^{k}_{j=1} \left[ Q_j - \frac{d}{dt}\left(\frac{\partial T}{\partial \dot{q}_j}\right) - \frac{\partial T}{\partial q_j} \right] \delta q_j = 0$$
`````

即**第二类拉格朗日方程**
$$\Large\boxed{\frac{d}{dt}\left(\frac{\partial T}{\partial \dot{q}_j}\right) - \frac{\partial T}{\partial q_j} = Q_j \qquad (j = 1,2...k)}$$

拉格朗日方程的适用于<mark style="background: transparent; color: yellow">受理想约束的完整系统</mark>
注：对于含有非理想约束的系统，可以解除其中的非理想约束然后将其中的非理想约束力看成是主动力，此时仍然可以使用第二类拉格朗日方程来建立系统的动力学方程

使用第二类拉格朗日方程建立的系统运动微分方程一般是关于广义坐标$q_j$的<mark style="background: transparent; color: yellow">二阶非线性常微分方程</mark>


