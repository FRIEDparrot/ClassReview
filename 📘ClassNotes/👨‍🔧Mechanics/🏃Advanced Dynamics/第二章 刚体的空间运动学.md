### (1) 运动的描述
我们定义：任一空间矢量为$\{a\}$, 则$\{a\} = [a_1 \space a_2\space a_3]^T$ 为**坐标列阵**
一般地， 在$\{a\}$中往往加上下标$i$表示在$i$坐标系中的。
$$[\tilde{A}] = \left[\begin{matrix}
0 & -a_3 &  a_2 \\
a_3 & 0 & -a_1 \\
-a_2 & a_1 & 0
\end{matrix}\right]$$
为矢量$\vec{a}$的**坐标方阵**
`````ad-note
title: 矩阵的矢量运算公式
collapse: open
加减:
$$\left\{ c\right\} = {a} \pm \left\{b \right\}\qquad [\tilde{c}] = [\tilde{a}] \pm [\tilde{b}]$$
数乘: 
$$\{b\} = k\{a\}\qquad [\tilde{b}] = k[\tilde{a}]$$
数量积:
$$\vec{a} \cdot \vec{b} = \left\{ a\right\}^T\cdot \left\{b\right\}$$
向量积:
$$\vec{a}\times \vec{b} = [\tilde{a}]\left\{b\right\}$$
`````

### (2) 刚体定点运动

#### 1. 欧拉角
设在刚体运动中，点$O$是不动的
刚体的位置可以由刚体内通过点 $O$ 的任一直线 $OL$ 的位置以及刚体绕$OL$的转角来进行确定
![[Excalidraw/第二章 刚体的空间运动学 2023-03-31 16.39.10|700]]
如图中，四个角度中有三个是独立的。
我们按照上图，定义三个欧拉角如下：
上图中的三个角**统称欧拉角**: 
$\psi$ : 进动角
$\theta$  : 章动角
$\varphi$ : 自转角
显然对于==一刚体转动过程中而言，形态可以通过 $\psi(t), \theta(t),\varphi(t)$来进行描述，而且上述形态可以通过$Ox_0y_0z_0$沿$Oz_0$旋转$\psi$得到$Ox_1y_1z_1$, 之后沿$Ox_1$旋转$\theta$，最终沿$Oz_2$旋转$\varphi$即可得到得到==

如果我们在刚体上固连一坐标系为$Ox_3y_3z_3$, 则此坐标系为<mark style="background: transparent; color: yellow">刚体的连体坐标系</mark>, 可以使用连体坐标系$O_3 x_3 y_3 z_3$位置代表刚体的位置

#### 2. 卡尔丹角
如果不使用上述旋转的构造方式而换一种构造，  则可以选取<mark style="background: transparent; color: yellow">刚体的连体坐标系</mark>$Ox_0y_0z_0$
第一次沿$Ox_0$旋转$\alpha$, 然后沿$Oy_1$旋转$\beta$, 沿$Oz_2$旋转$\gamma$得到$Ox_3y_3z_3$

上述三个角$(\alpha, \beta, \gamma)$称为连体坐标系相对参考系$Ox_0,y_0z_0$的**卡尔丹角**

### (3) 方向余弦矩阵

`````ad-attention
title:方向余弦矩阵的定义
collapse: open
设某一刚体的定参考系$O(x_i y_i z_i)$,而$Ox_j y_j z_j$为刚体的连体坐标系, 将$Ox_jy_jz_j$<mark style="background: transparent; color: red">相对于坐标轴</mark>$Ox_iy_iz_i$的方向余弦分别使用$(c_{11},c_{21},c_{31}), (c_{12}, c_{22}, c_{32}),(c_{13},c_{23}, c_{33})$来进行表示， 并排列为
$$[C_{ij}] = \left[\begin{matrix}
c_{11} & c_{12} & c_{13} \\
c_{21} & c_{22} & c_{23}\\
c_{31} & c_{32} & c_{33}
\end{matrix}\right]$$
则称为坐标系$Ox_jy_jz_j$<mark style="background: transparent; color: red">相对于坐标系</mark>$Ox_iy_iz_i$的方向余弦矩阵,即
$$[C_{ij}] = \left[\begin{matrix}
\cos<x_i, x_j> & \cos<x_i, y_j> & \cos<x_i, z_j> \\
\cos<y_i, x_j> & \cos<y_i, y_j> & \cos<y_i, z_j>\\
 \cos<z_i,x_j> & \cos<z_i, y_j> & \cos<z_i, z_j>
\end{matrix}\right]$$
注意第一列都是$x_j$, 第一行为$x_i$， 即按行在j坐标系下表示i的方向余弦
`````

为**从$j$坐标转换成$i$坐标**的方向余弦矩阵
其中各个元素初始轴和旋转之后轴的方向余弦夹角的余弦值，即
$$c_{ij} = \cos<i,j>$$
通过[[📘ClassNotes/👨‍🔧Mechanics/🏃Advanced Dynamics/补充/刚体空间运动部分的推导.pdf|刚体空间运动部分的推导.pdf]]得出: 

`````ad-caution
title: 方向余弦矩阵的性质
collapse: open

1. $[C_{ij}]$为正交矩阵$([C^{ij}]^{-1} = [C^{ij}]^T)$且$\det([C^{ij}]) = 1$
2. 对于任一矢量$\vec{a}$,在<mark style="background: transparent; color: yellow">两坐标系中的坐标列阵和方阵满足转换公式</mark>: 
$$\Large\boxed{\left\{ a\right\}_i = [C^{ij}] \left\{ a\right\}_j\qquad [\tilde{a}]_i = [C_{ij}][\tilde{a}]_j [C_{ij}]^T}$$

3. 矩阵相称的下标相消特性 
$$[C^{ik}] = [C^{ij}] [C^{jk}]$$
4. 方向余弦存在等于1的特征值

**推论： 对于任意两坐标系$Ox_i y_iz_i, Ox_jy_jz_j$， 必定存在某一矢量$p$(为转动轴)使得矢量$p$在两套坐标下的列阵相等**
`````

除此之外，可以使用转轴+转角来表述刚体的运动

### (4) 欧拉角和方向余弦矩阵的关系
按照欧拉法的转换公式，可以通过三次转动实现
![[Excalidraw/第二章 刚体的空间运动学 2023-03-31 16.39.10|700]]
对于初始的矩阵 
$$[C^{03}] = [C^{01}][C^{12}][C^{23}]$$
由于转动的顺序为: 
$$Ox_1 y_1 z_1 \overset{Oz_0}{\rightarrow} Ox_2 y_2 z_2 \overset{Ox_1}{\rightarrow} Ox_2 y_2 z_2 \overset{Oz_2}{\rightarrow }Ox_3y_3 z_3$$
则有第一次的方向余弦矩阵为<mark style="background: transparent; color: yellow">转动后的坐标轴和原坐标轴的夹角余弦</mark>
$$\left\{ \begin{matrix}
x_0 \\ y_0 \\ z_0
\end{matrix}\right\} =\left[\begin{matrix}
\cos \psi & -\sin \psi \\
\sin \psi & \cos \psi  \\
&& 1
\end{matrix}\right] \left\{\begin{matrix}
x_1 \\ y_1 \\ z_1
\end{matrix} \right\}\qquad  \text{where the matrix is } [C^{01}]$$
于是我们同理求解其余的矩阵， 并相乘得到最终的矩阵。有：
$$[C^{03}] = \left[\begin{matrix}
\cos \psi \cos \varphi  - \sin \psi \sin\varphi & -\cos \psi\sin \varphi - \sin \psi \sin \theta \cos \varphi & \sin \psi \sin\theta \\
\sin \psi \cos\varphi + \cos \psi \cos \theta \sin \varphi & -\sin \psi \sin \varphi + \cos \psi \cos \theta \cos \varphi  & -\cos \psi \sin \theta \\
\sin \theta \sin \varphi & \sin \theta \cos \varphi & \cos \theta
\end{matrix}\right]\tag{2.4.6}$$
利用上式反解出$\psi, \theta, \varphi$ 
可以得到角度的公式： 
$$\Large \begin{cases}
\cos \psi = -\frac{c_{23}}{\sin \theta} & \sin \psi = \frac{c_{13}}{\sin\theta} \\
\cos \theta = c_{33} & \sin \theta = \pm \sqrt{1 - c_{33}^2} \\
\cos \varphi = \frac{c_{32}}{\sin \theta} & \sin \varphi = \frac{c_{31}}{\sin\theta}
\end{cases}$$
其中，$c_{ij}$对应于矩阵$(2.4.6)$中的元素
需要注意: 当$\theta = k\pi$时， 成为**欧拉角的奇点**

`````ad-note
title: 方向余弦和卡尔丹角的关系
collapse: open
卡尔丹角是1,2,3转动，即
$$Ox_1 y_1 z_1 \overset{Ox_0, \alpha}{\rightarrow} Ox_2 y_2 z_2 \overset{Oy_1,\beta}{\rightarrow} Ox_2 y_2 z_2 \overset{Oz_2, \gamma}{\rightarrow }Ox_3y_3 z_3$$
使用同样的方法可以求解出: 
$$[C^{03}] = \left[\begin{matrix}
\cos \beta \cos \gamma & -\cos \beta \cos \gamma & \sin \beta \\
\cos \alpha \sin \gamma + \sin \alpha \sin \beta \cos \gamma & \cos \alpha \cos \gamma - \sin \alpha \sin \beta \sin \gamma & - \sin \alpha \cos \beta \\
\sin \alpha \sin \gamma - \cos \alpha \sin \beta \cos \gamma & \sin \alpha \cos \gamma + \cos \alpha \sin \beta \sin \gamma & \cos \alpha \cos \beta 
\end{matrix}\right]$$
对应的欧拉角表达式为: 
$$\begin{cases}
\sin \beta = c_{13} & \cos \beta = \pm \sqrt{1- c_{13}^2} \\
\cos \alpha = \frac{c_{33}}{\cos \beta} & \sin \alpha = - \frac{c_{23}}{\cos \beta} \\
\cos \gamma = \frac{c_{11}}{\cos \beta}& \sin \gamma =- \frac{c_{12}}{\cos \beta}
\end{cases}$$

其中$\beta = (k+ 0.5)\pi$为奇点
`````

### (5) 欧拉定理 
欧拉定理：做顶点运动的刚体的任何位置的变化，可以通过<mark style="background: transparent; color: yellow">刚体绕定点的某轴的一次转动</mark>来实现
[[📘ClassNotes/👨‍🔧Mechanics/🏃Advanced Dynamics/补充/欧拉定理证明.pdf|欧拉定理证明.pdf]]
设有任意两套共原点的坐标系$Ox_i y_i z_i$，$Ox_j y_j z_j$ ，而$Ox_j y_j z_j$可以通过$Ox_i y_i z_i$绕欧拉轴转动一个欧拉角而得到。
旋转中，坐标系$Ox_j y_j z_j$相对坐标系$Ox_iy_iz_i$的欧拉轴$ON$可以使用该轴的单位矢量$\vec{n}$表示并称为<mark style="background: transparent; color: yellow">欧拉轴单位矢</mark>. 

我们取一个辅助坐标系$Ox_ky_kz_k$并使其固连于$Ox_iy_i z_i$并使$Oz_k$的方向和单位矢$n$同向 。在$Ox_iy_iz_i$转动到$Ox_jy_jz_j$过程中，$Ox_ky_kz_k$转动$\theta$角达到$Ox_my_mz_m$位置。由于==坐标系是固连==的，有
$$[C^{ik}] = [C^{jm}]  \qquad [C^{mj}] = [C^{ki}] = [C^{ik}]^T$$
则得到: 
$$[C^{ij}] = [C^{ik}] [C^{km}] [C^{mj}]$$
其中由于$Ox_ky_kz_k$绕$z$轴旋转$\theta$角转到$Ox_my_mz_m$位置，则有: 
$$[C^{km}]  = \left[\begin{matrix}
\cos\theta & -\sin \theta \\
\sin\theta & \cos \theta \\
&& 1 \end{matrix}\right]$$
同时，我们设$Ox_ky_kz_k$坐标系的$x_k, y_k ,z_k$在$Ox_iy_iz_i$中的方向余弦分别为($z_k$为$(n_1,n_2,n_3)$)
$$[C^{ik}] = \left[\begin{matrix}
a_{11} & a_{12} & n_1 \\
a_{21} & a_{22} & n_2 \\
a_{31} & a_{32} & n_3
\end{matrix}\right]$$
通过[[📘ClassNotes/👨‍🔧Mechanics/🏃Advanced Dynamics/补充/欧拉定理证明.pdf|方向余弦的推导部分]]

即可求出最终的结果$[C^{ij}]$
$$[C^{ij}] = \left[\begin{matrix}
n_1^2 (1- \cos\theta) + \cos\theta & n_1 n_2(1-\cos \theta)- n_2\sin\theta) &n_1n_3(1-\cos\theta) + n_2\sin\theta \\
n_1n_2(1-\cos\theta) + n_3\sin \theta & n_2^2(1-\cos \theta) + \cos\theta & n_1n_3(1-\cos \theta) - n_1 \sin \theta \\
n_1n_2(1-\cos \theta) - n_2 \sin \theta & n_2 n_3(1- \cos\theta) + n_1 \sin\theta & n_3^2(1- \cos\theta) +\cos \theta
\end{matrix}\right]$$
$$\Large\begin{cases}
\cos\theta = \frac{1}{2}(c_{11} + c_{22} + c_{33} -1) \\
\sin\theta = \pm \frac{1}{2} \sqrt{(c_{11} + c_{22} + c_{33} +1)(3- c_{11} - c_{22} - c_{33})} \\
n_1 = \frac{c_{32} - c_{23}}{2\sin \theta} \\
n_2 = \frac{c_{13} - c_{31}}{2\sin \theta} \\
n_3 = \frac{c_{21} - c_{12}}{2\sin \theta}
\end{cases}$$
注意： $\theta$有两组解，这是由于$z_k$轴的正方向和$n$的正向还是<mark style="background: transparent; color: yellow">反向相同</mark>导致的 

### (6) 刚体转动的合成
根据欧拉定理，连体坐标系从初始位置$Ox_0y_0z_0$转动到最终的位置$Ox_ky_kz_k$的位移可以使用连体坐标系绕点$O$的某根轴<mark style="background: transparent; color: yellow">转动一次来进行实现</mark>

在旋转的过程中， 主要有两种给定旋转轴和角度的情况
1. 转轴单位矢量$n_i$是==在坐标系$Ox_{i-1}y_{i-1}z_{i-1}$坐标系中给定的==
由于每一次均可以使用方向余弦矩阵表达式
$$[C^{(i-1) i}]$$
可以直接使用连乘的方法：即
$$[C^{0k}] = \prod_{k}^{i=1} [C^{(i-1)i}]$$
即可计算出方向余弦矩阵$[C^{0k}]$

2. 每一次的转轴都是使用

### (7) 刚体角速度和角加速度
#### 1. 角速度和角加速度的定义
设瞬时的欧拉轴单位矢量为$\vec{p}$， 即
$$\vec{p} = \lim_{\Delta t \rightarrow 0} \vec{n}$$
对于刚体的定点运动, 设某一刚体相对参考系$Ox_0y_0z_0$绕点$O$运动,而在瞬时$t$时，定轴转动的**刚体的角速度大小定义为角度的变化率**
$$\vec{\omega} = \lim_{\Delta t \rightarrow 0} \frac{\Delta\theta\vec{p}}{\Delta t} = \omega \vec{p}$$
刚体的角加速度定义为瞬时角速度的变化快慢: 
$$\vec{\varepsilon} = \lim_{\Delta t\rightarrow 0}\frac{\Delta \vec{\omega}}{\Delta t} = \frac{d\vec{\omega}}{dt}$$
#### 2. 定点运动中刚体的速度和加速度分析


$$|\Delta r| = 2|\vec{r}| \sin \alpha \sin \frac{\Delta \theta}{2}$$
$$\Delta \vec{r} = 2 \sin^2 \frac{\Delta \theta}{2}(|\vec{r}|\cos\alpha  \vec{n}  - \vec{r}) + \sin\Delta \theta \vec{n} \times \vec{r}$$
通过上述推导过程，可以得到速度和加速度公式：
$$\Large\vec{v} = \vec{\omega} \times \vec{r}$$
$$\Large\vec{a} = \frac{dv}{dt} = \frac{d\vec{w}}{dt} \times \vec{r}  + \vec{\omega}\frac{d\vec{r}}{dt} = \vec{\varepsilon} \times \vec{r} + \vec{\omega}\times (\vec{\omega}\times \vec{r})$$

将速度矢量和加速度矢量写成对应的矩形式，有：
$$\Large\boxed{\left\{ v\right\}_0 = [\tilde{\omega}]_0 \left\{r\right\}_0\qquad \left\{a\right\}_0 = \left([\tilde{\varepsilon}_0] + [\tilde{\omega}]_0\right)\left\{r \right\}_0}$$
#### 3. 刚体的角速度合成定理
我们设刚体$M$<mark style="background: #FFF3A3A6;">相对固定坐标系和动坐标系的角速度</mark>为$\omega_a, \omega_r$ 对应的点的矢径为$r$
$$\begin{matrix}
\vec{v}_a = \vec{\omega}_a \times \vec{r} \\
\vec{v}_r = \vec{\omega}_r \times \vec{r} \\
\vec{v}_e = \vec{\omega}_e \times \vec{r}
\end{matrix}$$


```mermaid 
graph LR
A[欧拉角] --> B[方向余弦矩阵]
B --> A 
B --> C[欧拉轴,欧拉转角]
C --> B
```
角速度的概念(瞬轴) 
