## 一、触发器
### (1) RS 触发器
RS触发器的基本结构如图:
![[attachments/Pasted image 20231213134830.png|600]]

基本的逻辑分析方法是假设出Q端输出的部分为0, 0, 按照信号通路分析回来， 如果状态一致则稳定，状态不同则再分析一圈即可，得到逻辑状态表: 

| $\overline{S}_D$ | $\overline{R}_D$ | $Q_{n+1}$ |      |
| ---------------- | ---------------- | --------- | ---- |
| 0                | 0                | 不定      | 禁止 |
| 0                | 1                | 1         | 置1  |
| 1                | 0                | 0         | 置零 |
| 1                | 1                | $Q_n$     | 保持 | 

如果将RS触发器的与门设置为三与门并使用一个时钟进行控制,
其原理图如图所示, <mark style="background: transparent; color: red">当时钟CLK为1时, 不影响
而当CLK为0时, 输出置1。</mark> 
![[attachments/Pasted image 20231218171858.png|400]]
需要说明的是, 上图状态下, <mark style="background: transparent; color: red">如果A,B均为1时</mark>, 则**由于时钟从0跳到1的过程, 导致00->11的切换, 从而导致产生**不定状态(闪烁), <mark style="background: transparent; color: blue">这是不允许的</mark>, 但是, 此时如果A,B均为0, 则起到了**将$Q$和$\overline{Q}$输出均置为1的效果**。

### (2) 钟控RS触发器
只需要将每个信号和时钟信号<mark style="background: transparent; color: red">加一个与非门相连接</mark>(使用与门的改变), 即可形成**钟控RS触发器**。
需要说明的是, 钟控RS触发器由于AB为全1时形成全0禁止结构, 同时与非门有反相的作用
![[attachments/Pasted image 20231218175534.png|400]]
其中$\overline{S}, \overline{R}$分别起到置1和置0的作用, 从而有如下的真值表 (A为S, B为R):

| $S_{D}$ | $R_{D}$ | $Q_{n+1}$ | 作用 |
| ------- | ------- | --------- | ---- |
| 0       | 0       | $Q_{n}$   | 保持 |
| 1       | 0       | 1         | 置1  |
| 0       | 1       | 0         | 置0  |
| 1       | 1       | 不定      | 禁止 | 

另外, 在时钟为0时, 前面两个与非门被置为1,1输出, 即保持状态, 而时钟为1时, $S, R$的输入状况会改变$Q, \overline{Q}$的状态。我们将钟控RS触发器写成如下的化简输入形式: 
![[Excalidraw/第九章 触发器与时序逻辑电路 2023-12-19 01.03.44|300]]

### (3) JK 触发器
利用两个钟控RS触发器通过如图的方法进行连接, 此时, 由于输入为11时, 为了不产生不定的状态, 可以通过从后方加入反馈。将Q处的部分反馈回起始端: 
另外需要说明, 仿真时需要先给$\overline{R}$一个置零信号(或者$\overline{S}$一个置1信号)才能有初始输出电平(设初始时输出$Q = 0, \overline{Q} = 1$) 

![[Excalidraw/第九章 触发器与时序逻辑电路 2023-12-19 01.48.43|850]]
其有逻辑
$$S' = J \overline{Q} \qquad  R' = K \overline{Q}$$
在<mark style="background: transparent; color: red">时钟的下跳沿</mark>即为第二个RS触发器的上升沿, 此时逻辑门的状态切换, 有真值表(A 为J, B为K):

| J   | K   | $Q_{n+1}$    | 功能 |
| --- | --- | ------------ | ---- |
| 0   | 0   | $Q_n$        | 保持 |
| 1   | 0   | 1            | 置1  |
| 0   | 1   | 0            | 置零 |
| 1   | 1   | $\overline{Q}$ | 记数 | 

记数功能可以统计脉冲下降沿的数量, 每一次脉冲的下降沿, $Q$翻转一次。

### (4) D触发器
D 触发器是将JK触发器的两个部分取反之后接入一个口上， 可以起到直接锁存信号的作用。
![[Excalidraw/第九章 触发器与时序逻辑电路 2023-12-19 02.03.22|800]]

| $D_{n}$ | $D_{n+1}$ |
| ------- | --------- |
| 0       | 0         |
| 1       | 1          |
D触发器也是最基本的<mark style="background: transparent; color: red">锁存器</mark>。需要说明: **CLK处带圈是下降沿触发状态改变的D触发器(主从型触发式触发器), 而不带圈是上升沿触发状态改变的D触发器(维持阻塞型触发器)**。

实际的集成电路往往采用更加可靠的维持阻塞型D触发器 

## 二、寄存器 
寄存器是存储二进制码的单元，最简单的寄存器利用D触发器即可构成, 只需要将D触发器输出接到下一个D触发器的输入位置上即可(其中D触发器置0置1使用高电平1)。
![[attachments/Pasted image 20231219100704.png|700]]
其中可以有串行和并行两种输入方式, 串行输入通过控制CLK和上方的0端子, 而并行输入只需在每个D前加一个口进行输入即可。

实际的并行输入在前面加一个与非门实现寄存指令控制寄存。
另外需要说明， 寄存器在串行寄存时是异步寄存器状态， 即前一个下跳沿出现之后， 后一个上升沿出现, 我们往往忽略其时间差。

集成寄存器74LS194的引脚排列如图所示(省去GND, VCC): 
![[attachments/Pasted image 20231219101737.png|200]]
其中D0-D3为并行输入口, SR, SL为右移和左移串行输入口, Q0-Q3为输出。 
S0 = 1, S1 = 0 时为右移串行寄存状态， 而S1 = 0, S0 = 1时为左移串行寄存状态。
S0 = S1 = 1 时为并行输入状态, S0 = S1 = 0时保持状态。MR为清零线。

## 三、计数器
对于计数器, 在描述时, 需要说明<mark style="background: transparent; color: red">加法减法，同步异步以及进制数</mark>
### (1) 四位异步二进制加法计数器
利用JK触发器的计数功能，将一个触发器的$Q$连接到下一个触发器的CLK上，同时将JK口均与1进行连接，这样就可以实现CLK每次脉冲时, 每一次最低的一位反相， 而每一位的计数跳变为0时, 会触发更高位的计数反相，从而实现二进制码计数功能。

| plummet time | $Q_1$ | $Q_2$ | $Q_3$ |
| ------------ | ----- | ----- | ----- |
| 0            | 0     | 0     | 0     |
| 1            | 1     | 0     | 0     |
| 2            | 0     | 1     | 0     |
| 3            | 1     | 1     | 0     |
| 4            | 0     | 0     | 1     |
| 5            | 1     | 0     | 1     |
| 6            | 0     | 1     | 1     | 

<mark style="background: transparent; color: red">三位异步二进制</mark>加法计数器如图所示: 
![[attachments/Pasted image 20231213142208.png|700]]
三位的计数器可以存储8进制码，而只需4位即可存储10进制码。第一个是二拍, 第二个是四拍, 第三个是8拍(2拍一个下降沿), 端子悬空代表高电平

数字电路基本的分析方法是先写出**逻辑表达式**, 然后再**画时序表**进行分析。对于三位异步二进制加法器，其**逻辑表达式**为: 
$$CP_{1}= Q_{0}\qquad  CP_{2} = Q_{1}\qquad  CP_{3} = Q_{2}$$

### (2) 四位同步二进制加减法计数器 
对于同步二进制加法计数器, 由于需要同步CLK时钟控制变化,  则<mark style="background: transparent; color: red">需要使用前一时刻的状态来判断本时刻的状态</mark> 

| plummet time | $Q_{0}$ | $Q_{1}$ | $Q_{2}$ | $Q_{3}$ |
| ------------ | ------- | ------- | ------- | ------- |
| 0            | 0       | 0       | 0       | 0       |
| 1            | 1       | 0       | 0       | 0       |
| 2            | 0       | 1       | 0       | 0       |
| 3            | 1       | 1       | 0       | 0       |
| 4            | 0       | 0       | 1       | 0       |
| 5            | 1       | 0       | 1       | 0       |
| 6            | 0       | 1       | 1       | 0       |
| 7            | 1       | 1       | 1       | 0       |
| 8            | 0       | 0       | 0       | 1       | 

从上式看，由于$Q_1$在$Q_{0}$为1时, 下一时刻会置1, 则有: $J_{1} = Q_{0}$, 同样地, 当$Q_{0},Q_{1}$同时为1时, 下一时刻$Q_{2}$置1, 而**对于$Q_{0}$为0时, 则$Q_{1}$保持而不反号**,  但是如果$K_1 = K_2 = K_{3} = 1$, 则会导致计数器前一位0传入置零信号, 因此将前一位的输出也接到K脚上, 当所得是0时, 保持, 因而有逻辑表达式: 
$$J_{1} = K_{1} = Q_{0} \qquad  J_{2} = K_{2}= Q_{0} Q_{1}$$
从而可以设计出如下的<mark style="background: transparent; color: red">四位同步二进制加法计数器</mark>: 
![[attachments/Pasted image 20231225194127.png|900]]

只需稍加改动即可成为四位同步二进制减法计数器 :
$$J_{1}= K_{1} = \overline{Q}_{0}\qquad  J_{2} = K_{2} = \overline{Q}_{0}\overline{Q}_{1}$$

| plummet time | $Q_{0}$ | $Q_{1}$ | $Q_{2}$ | $Q_{3}$ |
| ------------ | ------- | ------- | ------- | ------- |
| 0            | 0       | 0       | 0       | 0       |
| 1            | 1       | 1       | 1       | 1       |
| 2            | 0       | 1       | 1       | 1       |
| 3            | 1       | 0       | 1       | 1       |
| 4            | 0       | 0       | 1       | 1       |
| 5            | 1       | 1       | 0       | 1       |
| 6            | 0       | 1       | 0       | 1       |
| 7            | 1       | 0       | 0       | 1       |
| 8            | 0       | 0       | 0       | 1       |
特点是每次前面都为0时，从1改变状态为0, 接线如下图所示: 
![[attachments/Pasted image 20231225200323.png|800]]

## 四、集成计数器 
### (1) 74LS290计数器设计
最常见的集成计数器是74LS290 <mark style="background: transparent; color: red">异步二-五-十进制计数器</mark>。
![[attachments/Pasted image 20231225210406.png|200]]
首先74LS290计数器的$R_{0(1)} = R_{0(2)} = 1$时, 直接清零。
$S_{9(1)} = S_{9(2)}$时, 直接置9, 
当$S_{9(1)}$和$S_{9(2)}$以及$R_{0(1)}$和$R_{0(2)}$至少有一个为低电平时, 逻辑电路处于计数状态

其中，首先是重置电路, $R0, R1$分别连接每一个的R端, 而$S_{9(1)}$, $S_{9(2)}$分别连接1,4位的置1端和2,3位的置0端, 如下图所示 : 
![[attachments/Pasted image 20231225211035.png|600]]

而对于五进制加法器, 有: 

| 下降沿 | $Q_1$ | $Q_2$ | $Q_3$ |
| ------ | ----- | ----- | ----- |
| 0      | 0     | 0     | 0     |
| 1      | 1     | 0     | 0     |
| 2      | 0     | 1     | 0     |
| 3      | 1     | 1     | 0     |
| 4      | 0     | 0     | 1     |
| 5      | 0     | 0     | 0     | 

因此, 利用JK逻辑关系可以实现五进制加法器: 
$J_{3}$仅在$Q_1,Q_2$同时为高时，才翻转, 否则置零。
$$J_{2} = 1, K_{2}=  1, CLK2 = Q_{1} \qquad J_{3} = Q_{1} Q_{2},  K_{3} = 1 , CLK3 = CP$$
而$Q_{1}$当$Q_{3}$为1时, 下一时刻会置0， 从而有:
$$J_{1} = \overline{Q}_{3}\qquad K_{1} = 1\qquad CLK1 = CP$$
从而可以设计出如下图的74LS290内部结构逻辑图: 
![[attachments/Pasted image 20231225214412.png|700]]

需要说明的是, 74LS290计数器的<mark style="background: transparent; color: red">CP0端是一个二进制计数器, 而CP1端是一个五进制计数器</mark>, 要<mark style="background: transparent; color: red">形成一个十进制计数器，只需要Q0接入CP1即可</mark> 

### (2) 相关设计应用
如果利用74LS290设计某一指定的位数的计数器, 只需将对应计数器的位数接入与门(只需对应位数的与门即可, 其他位数非之后接过来是多余的)然后再接回清零端R0, R1即可

另外也可以根据多片74LS290级连形成更高位数的计数器，例如24进制可以使用4 - 6进制， 只需要将前一个的进位接入 RST 位 同时接入下一片的CLK 位, 最后将后一片的清零部分也使用与门接回来(注意: 如果使用十进制方法， RST可以不用接东西, 由于计数为10后会自动清零)  

## 五、555定时器
### (1) 555 定时器的内部逻辑设计
555定时器是一种<mark style="background: transparent; color: red">集成了模拟和逻辑功能的中规模集成器件</mark>。以集成定时器为基础并配以少量的电阻，电容等等元件， 可以实现构成定时， 延时，脉冲源等各种电路，以及单稳态触发器， 多谐振荡器， 施密特触发器等等实用电路。常用的555定时器有TTL (CB555)以及CMOS (CC7555), 且引脚与功能一致
![[attachments/Pasted image 20231226083726.png|250]]

1. 当TH高于2/3VCC，而TL在1/3和2/3之间时, 则RS触发器置零, 输出为0
2. 当TL低于1/3VCC, TH在1/3和2/3之间时, 则RS触发器置1, 输出为1
3. 如果是同时高于和低于, 则RS触发器输入全为1, 保持状态 
4. 如果是同时在 1/3到2/3 区间, 则RS触发器输入全为0, 即输出的$Q, \overline{Q}$全为1。

CV(5)为电压控制端, 可以改变比较器N1的参考电压, 不用时, 则使用0.01$\mu F$的电容进行接地,  从而排除干扰。 
3脚Q为输出端， 可以进行驱动各种负载,  且驱动电压低于UCC 1- 3V

内部结构如下图所示 (下图给出了TH > 2/3VCC和TR>1/3VCC状态): 
![[attachments/IMG_20231226_100256_edit_1208333774317184.jpg|800]]
![[attachments/Pasted image 20231226100208.png|700]]
DC为放电端, 当 $\overline{Q} = 0$ 时, T截止, 而$\overline{Q} = 1$时, 外接电容可以通过T进行放电。
### (2) 单稳态触发器 
单稳态触发器的连接方式如下图
工作原理:  由于DC连接放电端口, 将DC 和TH连接到一起形成等电势。当TR > 1/3 VCC时, $\overline{S}$输出为1, 从而使得输出Q为0, 此时$\overline{Q} = 1$, DC端处于放电状态。
![[attachments/Pasted image 20231226105451.png|600]]
而当输入一个下降波形时, TR< 1/3VCC, 从而此时Q置为1, $\overline{Q}$为0, 从而三极管T截止, 此时, DC 与GND之间相当于开路(高阻状态, 故VCC通过R5给电容C2充电, <mark style="background: transparent; color: red">充电的时间常数为</mark>$\tau = RC = 0.5s$), 因此**TH电压逐渐上升到2/3VCC以上**。当电压变化到2/3VCC时, 则输入的$R$变成1, 此时$Q$置零, $\overline{Q} = 1$, 电容进入放电状态(<mark style="background: transparent; color: red">放电时间常数大小与三极管的等效电阻R有关系</mark>, 在此处相当于接地, 即迅速放电)。

获得的波形图如下(其中需要注意的是， 充电电容大小的选取要考虑到时间常数, 即$\tau = RC$), 可以按照如下方法计算: 由于
$$u_{C} = VCC \left(1 - e^{-\frac{t}{\tau}}\right)= \frac{2}{3}VCC$$
从而得到: $t_{p} \approx 1.1 \tau = 1.1 RC$ 
![[Excalidraw/第九章 触发器与时序逻辑电路 2023-12-26 11.12.23|700]]
DC直接连接电容后接地, 可以快速放电。 
### (3) 多谐振荡电路
多谐振荡电路是让电容端产生振荡的三角波, 

多谐振荡电路的基本逻辑是让TR和TH一起充电, 则当TH > 2/3VCC之后， 达到放电状态, 此时若能控制TH放电, 则可以保证TH放电到1/3VCC之后自动截止。

1 图中, 由于正常情况下先全部充满, 然后<mark style="background: transparent; color: red">三极管T是导通状态</mark>,  而DC导通时, 相当于接地 (其中VCC = 9V), 则形成VCC-> GND的回路， 因此下方为4.5V。
为了能够让7脚的放电作用实现一定的延时控制 , 在<mark style="background: transparent; color: red">放电时的等效电路上应当不存在VCC给的电势差</mark>, 因此, VCC可以直接与DC相接, 从而实现C4通过R6放电到DC上, 实现放电的延时控制。 
![[Excalidraw/第九章 触发器与时序逻辑电路 2023-12-26 13.09.29|1000]]

所得到的$u_C$以及$u_o$电压波形如图所示, 即可以产生矩形波振荡电路。 
![[attachments/Pasted image 20231226133454.png|400]]
