##  å®é™…æƒ…å†µ
Isso ä»ç„¶åœ¨ `/js/embed.min.js` æä¾›é™æ€èµ„æºï¼Œè¯´æ˜ **Isso å¹¶ä¸ä¼šå› ä¸º `listen = http://127.0.0.1:9000/comments` å°±æŠŠè‡ªèº« API å’Œé™æ€èµ„æºæ”¾åˆ° `/comments/` ä¸‹**ã€‚Isso çš„é™æ€èµ„æºå’Œ API ä»ç„¶æ˜¯é»˜è®¤æ ¹è·¯å¾„ `/`ï¼Œæ‰€ä»¥ `/comments/` åªæ˜¯ URL çš„é€»è¾‘å‰ç¼€ï¼Œè€Œ Isso ä¾ç„¶æŒ‰ `/` è§£æè·¯å¾„ã€‚ 

## **ä¸ºä»€ä¹ˆ Isso ä»ç„¶åœ¨ `/js/embed.min.js` æä¾›èµ„æºï¼Ÿ**

Isso **ä¸æ”¯æŒ** ç›´æ¥åœ¨ `listen` æˆ– `public-endpoint` é‡Œæ›´æ”¹è‡ªå·±çš„é™æ€èµ„æºå’Œ API è·¯å¾„ï¼Œè€Œæ˜¯**é»˜è®¤åœ¨ `/` ç›®å½•ä¸‹è¿è¡Œ**ã€‚å³ä½¿ä½ é…ç½® `base-url` ä¸º `/comments`ï¼ŒIsso çš„ `embed.min.js` ä»ç„¶ä¼šåŠ è½½ `/js/embed.min.js`ï¼ŒAPI ä»ç„¶ä¼šèµ° `/new` è€Œä¸æ˜¯ `/comments/new`ã€‚

Isso **ä¸ä¼šè‡ªå·±ä¿®æ”¹ URL è·¯å¾„**ï¼Œä½ éœ€è¦**æ‰‹åŠ¨é…ç½®åå‘ä»£ç†æˆ– URL é‡å†™**ã€‚

---

## **è§£å†³æ–¹æ¡ˆ**

### **æ–¹æ³• 1ï¼šè®© Nginx åå‘ä»£ç† Isso å¹¶é‡å†™è·¯å¾„ï¼ˆæ¨èï¼‰**

å¦‚æœä½ æœ‰ Nginxï¼Œå¯ä»¥ä½¿ç”¨**è·¯å¾„é‡å†™**è®© Isso è¿è¡Œåœ¨ `/comments`ï¼Œè€Œä¸ä¼šå½±å“å®ƒçš„ API å’Œé™æ€æ–‡ä»¶è·¯å¾„ã€‚

#### **Nginx é…ç½®**

åœ¨ä½ çš„ Nginx é…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ï¼š

```nginx
location /comments/ {
    proxy_pass http://127.0.0.1:9000/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    rewrite ^/comments(/.*)$ $1 break;
}
```

#### **å¦‚ä½•ç”Ÿæ•ˆ**

- è¿™æ · `http://yourdomain.com/comments/js/embed.min.js` **å®é™…ä¼šè½¬å‘åˆ°** `http://127.0.0.1:9000/js/embed.min.js`
- Isso ä»ç„¶ä»¥ **æ ¹è·¯å¾„** å¤„ç†æ‰€æœ‰è¯·æ±‚ï¼Œä½†å¤–éƒ¨ URL ä¼šæœ‰ `/comments/` ä½œä¸ºå‰ç¼€

âœ… **æœ€ç»ˆæ•ˆæœ**

- `http://yourdomain.com/comments/js/embed.min.js` **èƒ½æ­£ç¡®åŠ è½½**
- `http://yourdomain.com/comments/new` **Isso èƒ½æ­£ç¡®å“åº”**
- Isso è‡ªå·±çš„ API **ä¸ä¼šå› ä¸ºè·¯å¾„é—®é¢˜æŠ¥é”™**

---

### **æ–¹æ³• 2ï¼šä¿®æ”¹ Isso ä»£ç ï¼ˆå¤æ‚ï¼Œä¸æ¨èï¼‰**

Isso **å†…éƒ¨æ²¡æœ‰æä¾›å‚æ•°** è®©å®ƒä¿®æ”¹ `/js/` è·¯å¾„ï¼Œè€Œæ˜¯**å†™æ­»åœ¨ä»£ç é‡Œçš„**ã€‚å¦‚æœä½ ä¸æƒ³ç”¨ Nginxï¼Œä½ éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ Isso æºç ï¼š

1. **å…‹éš† Isso æºç **
    
    ```bash
    git clone https://github.com/posativ/isso.git
    cd isso
    ```
    
2. **ä¿®æ”¹ `isso/views.py`**
    - æ‰¾åˆ°é™æ€æ–‡ä»¶è·¯å¾„
    - æ‰‹åŠ¨åŠ ä¸Š `/comments` ä½œä¸ºå‰ç¼€
3. **é‡æ–°æ„å»º Isso**
    
    ```bash
    python setup.py install
    ```
    

âœ… **è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¿®æ”¹ Isso çš„é»˜è®¤è·¯å¾„**ï¼Œä½† **ä¸æ¨è**ï¼Œå› ä¸ºæ¯æ¬¡ Isso æ›´æ–°ä½ éƒ½è¦æ‰‹åŠ¨æ”¹ä»£ç ã€‚

---

### **æ–¹æ³• 3ï¼šå‰ç«¯ Vue ç»„ä»¶æ‰‹åŠ¨æ”¹è·¯å¾„**

å¦‚æœä½ æ— æ³•ä½¿ç”¨ Nginxï¼Œä½† Isso ä»ç„¶è·‘åœ¨ `/`ï¼Œä½ å¯ä»¥åœ¨ Vue é‡Œæ‰‹åŠ¨æŒ‡å®š `embed.min.js` çš„è·¯å¾„ï¼š

```ts
script.dataset.isso = 'https://hellofriedparrot.club/comments/';
script.src = 'https://hellofriedparrot.club/js/embed.min.js'; // ä»ç„¶åŠ è½½æ ¹è·¯å¾„
```

âœ… **è¿™æ · Isso ä»ç„¶åœ¨ `/` è¿è¡Œï¼Œä½†å‰ç«¯è®¿é—®æ—¶ä»ç„¶èƒ½æ­£ç¡®åŠ è½½ `/comments/` çš„ API**ã€‚

---

## **æœ€ç»ˆå»ºè®®**

- **æ¨èæ–¹æ¡ˆ**ï¼šç”¨ **Nginx åå‘ä»£ç†**ï¼Œè®© Isso è¿è¡Œåœ¨ `/`ï¼Œä½†å¯¹å¤–å‘ˆç° `/comments/`
- **ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**ï¼šå‰ç«¯æ‰‹åŠ¨æ”¹ `embed.min.js` çš„ URLï¼Œä½† Isso API ä»ç„¶ä¼šåœ¨ `/`
- **ä¸å»ºè®®**ï¼šæ”¹ Isso æºç ï¼Œå› ä¸º Isso è®¾è®¡ä¸Šå°±æ˜¯è¿è¡Œåœ¨ `/` çš„ï¼Œæ”¹æºç å®¹æ˜“å¯¼è‡´åç»­å‡çº§éº»çƒ¦

å¦‚æœä½ æ²¡æœ‰ Nginxï¼Œè€ƒè™‘æ˜¯å¦å¯ä»¥ç”¨ Flask åå‘ä»£ç† Issoã€‚ğŸš€