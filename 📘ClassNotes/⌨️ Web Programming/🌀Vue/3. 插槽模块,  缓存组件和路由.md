## ä¸€ã€æ’æ§½æ¨¡å— slot 
åœ¨ Vue ä¸­ï¼Œ`<slot></slot>` æ˜¯ä¸€ç§æ’æ§½æœºåˆ¶ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å®šä¹‰å¯æ’å…¥çš„å†…å®¹åŒºåŸŸï¼Œä½¿å¾—çˆ¶ç»„ä»¶å¯ä»¥å°†å†…å®¹ä¼ é€’åˆ°å­ç»„ä»¶çš„æŒ‡å®šä½ç½®ã€‚è¿™åœ¨åˆ›å»ºçµæ´»ã€å¯å¤ç”¨çš„ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨ã€‚

å½“ä½ åœ¨å­ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªåŸºæœ¬çš„ `<slot></slot>` æ—¶ï¼Œçˆ¶ç»„ä»¶ä¼ é€’çš„å†…å®¹å°†ä¼šè¢«æ¸²æŸ“åœ¨è¯¥æ’æ§½çš„ä½ç½®ã€‚

ä¸€èˆ¬åœ°, æ’æ§½æ˜¯æŒ‰ç…§ name è¯†åˆ«è·å–å…·ä½“ id çš„,  å¦‚æœä»…å®šä¹‰ä¸€ä¸ª slot, ä¸æŒ‡å®šé»˜è®¤åå­—,  åˆ™å¾—åˆ°çš„æ˜¯é»˜è®¤æ’æ§½(æœ€å¤šä¸€ä¸ª template ä¸­ä»…èƒ½æœ‰ä¸€ä¸ªé»˜è®¤æ’æ§½)ã€‚
```vue title:ChildComponent.vue
<template>
  <div class="box">
    <slot></slot> <!-- è¿™é‡Œä¼šæ’å…¥çˆ¶ç»„ä»¶ä¼ é€’çš„å†…å®¹ -->
  </div>
</template>

<script>
export default {
  name: 'ChildComponent'
};
</script>

<!--åœ¨çˆ¶ç»„ä»¶ä¸­é‡‡ç”¨: -->
  <ChildComponent>
    <p>è¿™æ˜¯æ’æ§½ä¸­çš„å†…å®¹ï¼Œç”±çˆ¶ç»„ä»¶æä¾›ã€‚</p>
  </ChildComponent>
```

ä¸»è¦é‡‡ç”¨çš„æ’æ§½æœ‰å¦‚ä¸‹ä¸¤ç§: 
### (1) å…·åæ’æ§½
ä½¿ç”¨çš„å¤šçš„æ˜¯é‡‡ç”¨**å…·åæ’æ§½**ï¼Œ å¦‚ä¸‹å›¾, å¦‚æœä¸æŒ‡å®šåå­—,  åˆ™ä¸ºé»˜è®¤æ’æ§½: 
```vue
<template>
  <div class="box">
    <header>
      <slot name="header">é»˜è®¤æ ‡é¢˜</slot> <!-- å¦‚æœçˆ¶ç»„ä»¶æœªæä¾›å†…å®¹ï¼Œæ˜¾ç¤ºâ€œé»˜è®¤æ ‡é¢˜â€ -->
    </header>
    <main>
      <slot></slot> <!-- é»˜è®¤æ’æ§½ -->
    </main>
    <footer>
      <slot name="footer">é»˜è®¤é¡µè„š</slot> <!-- å¦‚æœçˆ¶ç»„ä»¶æœªæä¾›å†…å®¹ï¼Œæ˜¾ç¤ºâ€œé»˜è®¤é¡µè„šâ€ -- 
    </footer>
  </div>
</template>

<script>
export default {
  name: 'ChildComponent'
};
</script>

<!--åœ¨çˆ¶ç»„ä»¶ä¸­é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•: --> 
<template>
  <ChildComponent>
    <template v-slot:header>
      <h1>è‡ªå®šä¹‰æ ‡é¢˜</h1>
    </template>
    <p>è¿™æ˜¯é»˜è®¤æ’æ§½çš„å†…å®¹ã€‚</p>
    <template v-slot:footer>
      <p>è‡ªå®šä¹‰é¡µè„šå†…å®¹</p>
    </template>
  </ChildComponent>
</template>
```

æ­¤å¤–, **Vue 3 å¼•å…¥äº†å‘½åæ’æ§½çš„è¯­æ³•ç¼©å†™**, å…·ä½“å¦‚ä¸‹æ‰€ç¤º : 
```vue 
<template #icon>   <!--å®é™…ä¸Šæ˜¯ template v-slot:icon-->
  <DocumentationIcon />
</template>
```

### (2) ä½œç”¨åŸŸæ’æ§½

**ChildComponent.vue**
```vue
<template>
  <div>
    <slot :user="user"></slot> <!-- å‘æ’æ§½ä¼ é€’ user æ•°æ® -->
  </div>
</template>

<script>
export default {
  data() {
    return {
      user: {
        name: 'å¼ ä¸‰',
        age: 25
      }
    };
  }
};
</script>
```

**ParentComponent.vue**
```vue
<template>
  <ChildComponent v-slot:default="slotProps"> <!-- ä½¿ç”¨ v-slot æ¥æ”¶æ•°æ® -->
    <p>ç”¨æˆ·å§“å: {{ slotProps.user.name }}</p>
    <p>ç”¨æˆ·å¹´é¾„: {{ slotProps.user.age }}</p>
  </ChildComponent>
</template>

<script>
import ChildComponent from './ChildComponent.vue';

export default {
  components: {
    ChildComponent
  }
};
</script>
```

**æ•ˆæœ**ï¼šçˆ¶ç»„ä»¶é€šè¿‡ `slotProps.user` è·å–å­ç»„ä»¶ä¼ é€’çš„ `user` å¯¹è±¡ï¼Œå¹¶æ¸²æŸ“ç”¨æˆ·çš„å§“åå’Œå¹´é¾„ã€‚

æ­¤å¤–, å…·åä½œç”¨åŸŸæ’æ§½å¯ä»¥åŒæ—¶ä½¿ç”¨å…·åæ’æ§½å’Œä½œç”¨åŸŸæ’æ§½çš„ç‰¹æ€§ï¼Œè¿›ä¸€æ­¥å¢å¼ºæ’æ§½çš„çµæ´»æ€§ã€‚


## äºŒã€ç¼“å­˜ç»„ä»¶

å¯¹äºä½¿ç”¨åŠ¨æ€ç»„ä»¶æ—¶ ï¼Œkeep-alive åº”è¯¥åˆ é™¤çº¿åœ¨ç»„ä»¶è¢«ç§»é™¤ä¹‹åå†æ¬¡æŒ‚è½½çš„åœ°æ–¹,  ä¸æ¸²æŸ“ä»»ä½• DOM å…ƒç´ ,  åŒæ—¶ä¸ä¼šå‡ºç°åœ¨ç»„ä»¶ç»“æ„æ ‘ä¸­ã€‚å› æ­¤ï¼Œ å¯ä»¥ç”¨äºç¼“å­˜ä¸€äº›éåŠ¨æ€çš„ç»„ä»¶å®ä¾‹, ä¸”ä¸éœ€è¦æ•°æ®å˜åŒ–: 

```html
<keep-alive>
	<component  :is="view"></component>	
</keep-alive>
```

è¯¥ç»„ä»¶å¯ä»¥æ¥æ”¶ include (ä»…ç¼“å­˜åŒ¹é…çš„ç»„ä»¶), exclude(ä¸ç¼“å­˜åŒ¹é…ç»„ä»¶) ä¸¤ä¸ª prop  å±æ€§

```html
<!-- ä»…ç¼“å­˜ ComponentA å’Œ ComponentB -->
<keep-alive include="ComponentA,ComponentB">
  <component :is="view"></component>
</keep-alive>

<script>
export default {
  data() {
    return {
      view: 'ComponentA', // å½“å‰æ˜¾ç¤ºçš„ç»„ä»¶
    };
  },
  components: {
    ComponentA: { template: "<div>æˆ‘æ˜¯ ComponentA</div>" },
    ComponentB: { template: "<div>æˆ‘æ˜¯ ComponentB</div>" },
    ComponentC: { template: "<div>æˆ‘æ˜¯ ComponentC</div>" },
  },
};
</script>
**è¡Œä¸º**: 
- åˆ‡æ¢åˆ° `ComponentA` æˆ– `ComponentB` åï¼Œå®ƒä»¬çš„çŠ¶æ€ä¼šè¢«ç¼“å­˜ã€‚
- åˆ‡æ¢åˆ° `ComponentC` æ—¶ï¼Œå®ƒä¸ä¼šè¢«ç¼“å­˜ï¼Œæ¯æ¬¡é‡æ–°æŒ‚è½½æ—¶éƒ½ä¼šåˆå§‹åŒ–ã€‚
```

## ä¸‰ã€å‰ç«¯è·¯ç”±å’Œ Ajax ç›¸å…³å®ç° 
### (1) åç«¯è·¯ç”±å’Œå‰ç«¯è·¯ç”±
ä¼ ç»Ÿçš„ MVC æ¶æ„çš„ Web å¼€å‘ä¸­ï¼Œè·¯ç”±æ˜¯åç«¯çš„æ¦‚å¿µï¼Œ æˆ‘ä»¬é€šè¿‡åå°è®¾ç½®è·¯ç”±è§„åˆ™ï¼›è€Œç”¨æˆ·å‘é€è¯·æ±‚æ—¶ï¼Œåå°æ ¹æ®è®¾å®šè·¯ç”±è§„åˆ™å°†æ•°æ®æ¸²æŸ“åˆ°æ¨¡æ¿ä¸­ï¼Œæ¯æ¬¡å‘é€è¯·æ±‚å³åˆ·æ–°é¡µé¢ã€‚

Ajax æ¶æ„æ˜¯æµè§ˆå™¨æä¾›çš„æŠ€æœ¯æ–¹æ¡ˆ,  èƒ½å¤Ÿå®ç°é€šè¿‡å¼‚æ­¥åŠ è½½æ•°æ®å®ç°é¡µé¢å±€éƒ¨åˆ·æ–°å®ç°å‰åç«¯çš„äº¤äº’å¤„ç†ï¼Œ è€Œå¼‚æ­¥äº¤äº’å¯ä»¥ç”¨äºæ„å»ºä½“éªŒè‰¯å¥½çš„å•é¡µé¢åº”ç”¨(SPA), å¯ä»¥å‚è€ƒ [[ğŸ“˜ClassNotes/âŒ¨ï¸ Web Programming/ğŸµJavaScript/3. JavaScript è¯­æ³•å…¥é—¨å’Œå¯¹è±¡#2. async å’Œ await æ–¹æ³•å°è£… ajax è¯·æ±‚|async å’Œ await æ–¹æ³•å°è£… ajax è¯·æ±‚]] éƒ¨åˆ†å’Œ [[ğŸ“˜ClassNotes/âŒ¨ï¸ Web Programming/ğŸµJavaScript/7. ESLintè°ƒè¯•å·¥å…·ï¼ŒJSON, AJAX#(2) AJAX|AJAX ç®€ä»‹]], å®é™…ä¸Šæ˜¯åŸºäºå¼‚æ­¥ JavaScript å’Œ xml æ ¼å¼åŒ–çš„è¯·æ±‚å¼‚æ­¥ç¼–å†™ã€‚

å®šä¹‰: <b><mark style="background: transparent; color: orange">ä»…æ”¹å˜é¡µé¢åœ°å€å’Œé‡‡ç”¨å‰ç«¯ä»£ç è¿›è¡Œé¡µé¢åˆ·æ–°ï¼Œ è€Œä¸å‘åç«¯æœåŠ¡å™¨é€å®é™…è¯·æ±‚çš„ç»„ä»¶, ç§°ä¸ºå‰ç«¯è·¯ç”±; </mark></b> å®é™…ä¸Šæ˜¯å‰ç«¯æ ¹æ®è·¯ç”±åˆ†å‘è§†å›¾ï¼Œ å…¶ä¸­ä¸»è¦åŒ…å«: 
1. ç›‘å¬æµè§ˆå™¨åœ°å€çš„å˜åŒ– 
2. åŠ¨æ€åŠ è½½è§†å›¾

æˆ‘ä»¬ç»™å‡º node.js åŸç”Ÿå®ç°å‰ç«¯è·¯ç”±çš„æ–¹æ¡ˆ: 
```js 
/* ä½¿ç”¨ require å¯¼å…¥ç›¸å…³çš„åŒ… */
const http = require("http")  ; 
const fs = require("fs");
const host_name = "127.0.0.1"
const port =  5600;

const server = http.createServer(function, (req, res){
	let content = fs.readFileSync("1.html");
	res.writeHead( 200, {
	"content-type": "text/html; charset='utf-8'"
	})
	res.write(content);
	res.end()
})

server.listen(port, hostName, ()=>{
	console.log("server is running")
})
```

å¦å¤–æˆ‘ä»¬ä¹Ÿç»™å‡ºåŸç”Ÿ js å®ç°çš„å‰ç«¯è·¯ç”±æ–¹æ¡ˆ: 
```html
<!doctype html>
<html>
    <head> </head>
    <body>
        <div>
            <button id="btn">Change View</button>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
            </ul>
            <div id="view"></div>
        </div>
        <script src="./test.js"></script>
    </body>
</html>
```

å¯¹åº”çš„ js æ–‡ä»¶: 
```js 
let Home = "<h1>HomePage</h1>";
let About = "<h1>AboutPage</h1>";

const routes = [];

// å®é™…ä¸Šæ˜¯é‡‡ç”¨ [[ğŸ“˜ClassNotes/âŒ¨ï¸ Web Programming/ğŸµJavaScript/3. JavaScript è¯­æ³•å…¥é—¨å’Œå¯¹è±¡#2. ä»¥å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡|æ„é€ å‡½æ•° function åˆ›å»ºå¯¹è±¡]],
let router = function (page) {
    let view = document.getElementById(page);
    let load_view = document.getElementById("view"); // è·å–å¯¹åº”è·¯ç”±éƒ¨åˆ†

    // å®šä¹‰åŠ è½½è·¯ç”±çš„å‡½æ•°
    this.load = (route) => {
        route && (load_view.innerHTML = route.template); // åŠ è½½å¯¹åº”è·¯ç”±çš„æ¨¡æ¿
    };

    // è·³è½¬å‡½æ•°, ç”¨äºåˆ†å‘è·¯ç”±
    let redirect = () => {
        let url = window.location.hash.slice(1) || "/";
        for (let route of routes) {
            url === route.url && this.load(route);
        }
    };
    // å®ç°è·¯ç”±æ·»åŠ è§„åˆ™
    this.push = (rule) => {
        routes.push(rule);
    };

    // æ³¨æ„: false æ˜¯å†’æ³¡é˜¶æ®µè¢«è§¦å‘çš„
    window.addEventListener("load", redirect, false); // ç»™ window åŠ äº‹ä»¶ç›‘å¬å™¨, é˜»æ­¢ redirect
    window.addEventListener("hashchange", redirect, false);
    window.addEventListener("popstate", redirect, false);
};

// å®ä¾‹åŒ– router å¯¹è±¡
let router1 = new router("view"); // åˆ›å»º router å®ä¾‹, æ­¤æ—¶ä¹Ÿè¿›è¡Œäº† addEventListener

router1.push({
    url: "about",
    template: About, // è·¯ç”±å¯¹åº”çš„æ¨¡æ¿
});

const btn = document.getElementById("btn");
btn.addEventListener("click", function () {
    window.location.hash = "about"; // ç‚¹å‡»æŒ‰é’®, è·³è½¬åˆ° about é¡µé¢
});
```

### (2) åŸºäº RouterLink å’Œ RouterView çš„é¡µé¢æ— ç¼è·³è½¬
Vue  å®ç°å‰ç«¯è·¯ç”±çš„ä»£ç æ–¹æ¡ˆæ˜¯é‡‡ç”¨ router-link æ ‡ç­¾å®ç°å‰ç«¯è·¯ç”±è·³è½¬,  <b><mark style="background: transparent; color: orange">åŒæ—¶å¿…é¡»åœ¨  script ä¸­è¿›è¡Œå®šä¹‰è·¯ç”±è§„åˆ™</mark></b>, åœ¨å‰éƒ¨åˆ†,  æˆ‘ä»¬ç»™å‡ºäº†router-link éƒ¨åˆ†, è€Œ router-view ä»ç„¶å¯ä»¥åµŒå…¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨,  è€Œä¸éœ€è¦åœ¨åµŒå¥—çš„æ¨¡æ¿ä¸­è¿›è¡Œå¼•å…¥ã€‚

RouterLink å’Œ RouterView å®é™…ä¸Šæ˜¯ä¸¤ä¸ªç»„ä»¶,  `RouterLink` æ˜¯ä¸€ä¸ªç”¨äºå¯¼èˆªçš„ç»„ä»¶ï¼Œç±»ä¼¼äº HTML ä¸­çš„ `<a>` æ ‡ç­¾ï¼Œä½†å®ƒä¸“ä¸º Vue Router è®¾è®¡ï¼Œæ”¯æŒå£°æ˜å¼è·¯ç”±å¯¼èˆªã€‚`RouterView` æ˜¯ä¸€ä¸ªå ä½ç¬¦ç»„ä»¶ï¼Œç”¨äºæ¸²æŸ“å½“å‰æ´»åŠ¨è·¯ç”±å¯¹åº”çš„ç»„ä»¶ã€‚**å®ƒå†³å®šæ˜¾ç¤ºå“ªä¸€ä¸ªç»„ä»¶ï¼Œå–å†³äºå½“å‰çš„è·¯ç”±åœ°å€**ã€‚

å…¶ä¸­é‡‡ç”¨ RouterLink å’Œ router-link æ•ˆæœæ˜¯ç›¸åŒçš„
```vue
<template>
<ul>
	<li><RouterLink to ="/">Home</router-link></li>
	<li><RouterLink to ="/about">About</router-link></li>
</ul>
<router-view/>
</template>

<script>
import createApp from 'vue' 
import App from './App.vue'
import router from './router'
import { createRouter, createWebHistory } from "vue-router";

let Home={
	template: `
		<h1>HomePage</h1>
	`
}  
let About={
	tempalte: `
		<h2> About </h2>
	`
}// è¿™ä¸ªå®é™…ä¸Šç›´æ¥é‡‡ç”¨ä¸€ä¸ª Vue æ–‡ä»¶è¿›è¡Œä»£æ›¿,  template å¯ä»¥ç›´æ¥æ”¾åœ¨ template éƒ¨åˆ†, è¿™é‡Œåªæ˜¯é‡‡ç”¨è¿™ä¸ªç¤ºä¾‹, å®é™…é‡‡ç”¨ import å³å¯ 

// å®šä¹‰è·¯ç”±è§„åˆ™ 
let routes= [
	{
	path : '/', 
	component: Home
	}, 
	{
	path : '/home', 
	component: () => import("@/views/HomeView.vue"),
	},
	{
	path : '/about',
	component : About 
	}
]

// åˆ›å»ºè·¯ç”±å®ä¾‹
const router = VueRouter.createRouter({
	history: VueRouter.createHistory(), 
	routes, 
})

app = createApp(App)
app.use('router')  // æˆ‘ä»¬åœ¨appä¸­useäº†routerï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬é€šè¿‡è¿™ä¸ªæ–¹å¼å·²ç»å…¨å±€çš„å¼•å…¥äº†è¿™ä¸¤ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”ä»–ä»¬èƒ½å¤Ÿå®ç°ä¸€ä¸ª[è·¯ç”±è·³è½¬](https://so.csdn.net/so/search?q=%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC&spm=1001.2101.3001.7020)çš„åŠŸèƒ½ 
app.mount("#app") 
```

éœ€è¦è¯´æ˜æ˜¯ï¼Œå¦‚æœä¸å®šä¹‰è·¯ç”±,  åˆ™å¯ä»¥è€ƒè™‘é‡‡ç”¨å¦‚ä¸‹çš„æ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰ä¸€ä¸ªç»„ä»¶, å®ç°ç±»ä¼¼äº RouterLink å’Œ RouterView çš„åŠŸèƒ½ : 
```vue
<script>
// å®šä¹‰ RouterLink  å’Œ RouterView å¯¹è±¡ 
const RouterLink = {
	props : "to",     // props å®é™…ä¸Šæ˜¯å¯ä»¥é€šè¿‡æ ‡ç­¾è¿›è¡Œä¼ å…¥çš„éƒ¨åˆ†  
	template : `
		<a href="to"><slot name="default"></slot></a>
	`
}

const h =  Vue.h; 
const RouterView = {
	data(){
		return {
			 url : window.location.pathname
		}, 
	},
	computed :{
		ViewComponent(){
			return routes.find(route =>  route.path  === this.url ).component   // find ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º route çš„å‡½æ•°
		}
	}, 
	render (){
		return h (this.ViewComponent)
	}
}
app = createApp({
	components: {RouterLink, RouterView}
})
</script>

<template>
  <nav>
    <RouterLink to="/">Home</RouterLink>
    <RouterLink to="/about">About</RouterLink>
  </nav>
</template>
```
è¿™ä¸ªå®é™…ä¸Šæ˜¯åˆ©ç”¨ Vue.h è¿›è¡Œæ¸²æŸ“å¯¹åº”çš„ Componentï¼Œ è™½ç„¶å®ç°äº†å‰ç«¯è·¯ç”±,  ä½†è§†å›¾çš„åˆ‡æ¢ä»ç„¶ç”±é¡µé¢åˆ·æ–°è¿›è¡Œã€‚ 

### (3) åŠ¨æ€è·¯ç”±
é¦–å…ˆåœ¨ router/index.ts ä¸‹, å¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•æ„å»ºåŠ¨æ€è·¯ç”±:

å¯ä»¥é€šè¿‡ `<router-link to="'about' + num"> About </router-link>`  è¿›è¡Œè·¯ç”±å‚æ•°ä¼ å…¥ã€‚
è€Œå½“åŠ¨æ€è·¯å¾„è¢«åŒ¹é…æ—¶,   åœ¨ç»„ä»¶ä¸­ï¼Œé€šè¿‡ `this.$route.params`ï¼ˆVue 2ï¼‰æˆ– `useRoute()` å’Œ `ï¼ˆVue 3 Composition APIï¼‰è·å–åŠ¨æ€å‚æ•°ã€‚ 

é€šè¿‡ `this.$router.push` æˆ–è€… **vue3 çš„ `router.push` è¿›è¡Œå¯¼èˆªå’Œé¡µé¢çš„è·³è½¬**: 

```vue
<template>
	<router-link to="'/about/'+num"> Route to About Page </router-link>
	<router-view></router-view>
</template>

<script lang="ts">
import About from '@pages/About/AboutPage.vue'
import { createApp, defineComponent } from 'vue'
import { createRouter, createWebHistory } from 'vue-router'

let routes = [
	{
		path: '/about/:num',
		component: About,
	},
    {
        path: '/user/:id',
        name: 'User',   // è¿™ä¸ªå¯ä»¥é€šè¿‡åå­—å¯¼èˆª 
        component: () => import('@/views/User.vue')
    }
]

const router = createRouter({
	history: createWebHistory(),
	routes: routes,
})

// é€šè¿‡è·¯ç”±åç§°çš„è·¯ç”±å¯¼èˆª (Vue2)
this.$router.push({
	name : 'User', 
	params : {
		id: 123
	}
})

const router = useRouter(); 
router.push({ name: 'User', params: { id: 123 } });
```

ä¸Šè¿°ä¸­é‡‡ç”¨ `http://127.0.0.1:7891/about/2` å³å¯åŒ¹é…å…¶ä¸­ä»»æ„çš„2ï¼Œ è·³è½¬åˆ°ç›¸åº”çš„ about ç•Œé¢;
éœ€è¦è¯´æ˜çš„æ˜¯,  å¯¹äº
```js
routes :[
	{path: '/:any', component:Home}
]
```
å¯ä»¥åŒ¹é…ä»»æ„çš„è·¯ç”±ã€‚ 

### (4) åŠ¨æ€è·¯ç”±å‚æ•°è®¾ç½®  
```ts
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import User from './pages/User';

function App() {
    return (
        <BrowserRouter>
            <Routes>
                <Route path="/user/:id" element={<User />} />
            </Routes>
        </BrowserRouter>
    );
}

export default App;
```

ä¾‹å¦‚, æå–åŠ¨æ€è·¯ç”±ä¸­çš„ç”¨æˆ·  id, å¯ä»¥é‡‡ç”¨: 
```vue
<script setup>
import { useRoute } from 'vue-router';

const route = useRoute();
const userId = route.params.id; // æå–åŠ¨æ€å‚æ•°

import { useParams } from 'react-router-dom';

function User() {
    const { id } = useParams(); // æå–åŠ¨æ€å‚æ•°
    return <div>ç”¨æˆ· ID: {id}</div>;
}

export default User;
</script>

<template>
    <div>
        ç”¨æˆ· ID: {{ userId }}
    </div>
</template>
```

## å››ã€åµŒå¥—è·¯ç”±å’ŒåŠ¨æ€ç»„ä»¶
### (1) åµŒå¥—è·¯ç”±æ¦‚å¿µ
å¯¹äº**å¤šé¡µé¢åº”ç”¨ï¼ˆSPAï¼‰ï¼Œå¯ä»¥é€šè¿‡ Vue Router ç®¡ç†å¸ƒå±€**ã€‚**ä¸»å¸ƒå±€ç»„ä»¶é€šå¸¸å®šä¹‰åœ¨é¡¶çº§è·¯ç”±ä¸­**ï¼Œå­è·¯ç”±è´Ÿè´£åŠ è½½å…·ä½“å†…å®¹ã€‚ åœ¨ SPA ä¸­ï¼Œ`header` å’Œ `footer` é€šå¸¸æ˜¯å…¨å±€ä¸€è‡´çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç›´æ¥æ”¾åœ¨æ ¹ç»„ä»¶ä¸­ï¼Œ ä¸ä¼šå› ä¸ºè·¯ç”±åˆ‡æ¢è€Œé‡æ–°æ¸²æŸ“ï¼Œä¿è¯äº†å®ƒä»¬çš„å…¨å±€ä¸€è‡´æ€§ã€‚

**åµŒå¥—è·¯ç”±**æ˜¯ä¸€ç§è·¯ç”±é…ç½®æ–¹å¼ï¼Œ<b><mark style="background: transparent; color: orange">ç”¨äºåœ¨å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ä¸­æ„å»ºå…·æœ‰å±‚æ¬¡ç»“æ„çš„é¡µé¢å¯¼èˆª</mark></b>ã€‚åµŒå¥—è·¯ç”±**å…è®¸ä¸€ä¸ªé¡µé¢ï¼ˆçˆ¶è·¯ç”±ï¼‰åŒ…å«å…¶ä»–é¡µé¢ï¼ˆå­è·¯ç”±ï¼‰**ï¼Œä»è€Œå®ç°æ›´æ¸…æ™°çš„æ¨¡å—åŒ–è®¾è®¡å’Œæ›´å¥½çš„ä»£ç ç»„ç»‡ã€‚

åœ¨åµŒå¥—è·¯ç”±ä¸­ï¼Œæ¯ä¸ªå­è·¯ç”±ä¸çˆ¶è·¯ç”±ç›¸å…³è”ï¼Œå¹¶æ¸²æŸ“åœ¨çˆ¶ç»„ä»¶çš„ç‰¹å®šä½ç½®ï¼ˆå¦‚ `router-view`ï¼‰ã€‚è¿™å¯¹äºæ„å»ºå¤æ‚çš„åº”ç”¨ï¼ˆå¦‚ä»ªè¡¨ç›˜ã€å¤šçº§èœå•ï¼‰éå¸¸æœ‰ç”¨ã€‚

- **åµŒå¥—è·¯ç”±çš„è·¯å¾„**ï¼š
    - å­è·¯ç”±çš„è·¯å¾„æ˜¯ç›¸å¯¹äºçˆ¶è·¯ç”±çš„ã€‚
    - å­è·¯ç”±çš„å®Œæ•´è·¯å¾„ç”±çˆ¶è·¯å¾„ + å­è·¯å¾„ç»„æˆã€‚
- **ç»„ä»¶çš„å ä½ç¬¦**ï¼š     
    - **çˆ¶ç»„ä»¶é€šè¿‡ä¸€ä¸ªå ä½ç¬¦ï¼ˆå¦‚ Vue çš„ `<router-view>` æˆ– React çš„ `Outlet`ï¼‰æ¥æ˜¾ç¤ºå­è·¯ç”±å†…å®¹**ã€‚

```javascript
import { createRouter, createWebHistory } from 'vue-router';
import BaseLayout from './BaseLayout.vue';
import HomePage from './HomePage.vue';
import AboutPage from './AboutPage.vue';

const routes = [
  {
    path: '/about',
    component: BaseLayout,
    // é€šè¿‡ Children è¿›è¡ŒåµŒå¥—å­è·¯ç”±:  
    children: [
      { path: 'author', 
		component: HomePage, 
		children : {
			// ç»§ç»­åµŒå¥—å­è·¯ç”±;
		}
	  },
      { path: 'email', component: AboutPage },
    ],
    // æ­¤æ—¶å¯¹åº” about/author å’Œ about/email ä¼šå°†å­è§†å›¾æ¸²æŸ“åˆ°ä¸»è§†å›¾ä¸­. 
  }
];

const router = createRouter({
  history: createWebHistory(),
  routes,
});

export default router;
``` 

å…¶ä¸­ï¼Œåœ¨ `BaseLayout.vue` ä¸­, <b><mark style="background: transparent; color: orange">éœ€è¦è®¾å®šä¸€ä¸ªå ä½ç¬¦ routerviewï¼Œ ç”¨äºæ˜¾ç¤ºå­è·¯ç”±éƒ¨åˆ†</mark></b>: 
```vue
<template>
  <div>
    <header>å…¨å±€å¤´éƒ¨</header>
    <router-view /> <!-- å­è·¯ç”±å†…å®¹å°†æ¸²æŸ“åœ¨è¿™é‡Œ -->
    <footer>å…¨å±€åº•éƒ¨</footer>
  </div>
</template>
```
å¦å¤–å¯ä»¥é€šè¿‡ `this.$router.push` ç»™ router æ·»åŠ æŸäº›è·¯ç”±(å®é™…ä¸Šæ˜¯æ“ä½œ routes æ•°ç»„)ã€‚ 

### (2) åŠ¨æ€ç»„ä»¶ 
éœ€è¦**æŒ‰æ¡ä»¶åŠ¨æ€åˆ‡æ¢å¸ƒå±€**æ—¶ï¼Œ å¯ä»¥é‡‡ç”¨åŠ¨æ€ç»„ä»¶è¿›è¡Œï¼Œ ä¿è¯å¸ƒå±€åˆ‡æ¢çµæ´»ã€‚
ä¾‹å¦‚,  æ ¹æ®ä¸€ä¸ªéƒ¨åˆ†æ˜¯å¦ä¸ºç®¡ç†å‘˜ï¼Œ é‡‡ç”¨å¯¹åº”çš„ layout éƒ¨åˆ†: 
```vue
<template>
  <component :is="layout">
    <slot></slot>
  </component>
</template>

<script>
import DefaultLayout from './DefaultLayout.vue';
import AdminLayout from './AdminLayout.vue';

export default {
  props: {
    layoutType: {
      type: String,
      default: "default",
    },
  },
  computed: {
    layout() {
      return this.layoutType === "admin" ? 
	      AdminLayout
	    : DefaultLayout;
    },
  },
};
</script>
```

### (3) **åŠ¨æ€è·¯ç”±çš„åŠ¨æ€ä¿®æ”¹** 
#### **1. åŠ¨æ€æ ‡é¢˜æ **
å¦‚æœå¸Œæœ›æ ¹æ®è·¯ç”±åŠ¨æ€ä¿®æ”¹æµè§ˆå™¨çš„æ ‡é¢˜ï¼Œå¯ä»¥é€šè¿‡ `Vue Router` çš„ `meta` å±æ€§å®ç°ï¼š
- åœ¨è·¯ç”±é…ç½®ä¸­è®¾ç½® `meta` ä¿¡æ¯: 
```javascript
const routes = [
{ path: '/', component: Home, meta: { title: 'Home Page' } },
{ path: '/about', component: About, meta: { title: 'About Us' } },
];
```
- ç›‘å¬è·¯ç”±å˜åŒ–å¹¶åŠ¨æ€è®¾ç½®æ ‡é¢˜ï¼š
```javascript
router.afterEach((to) => {
document.title = to.meta.title || 'Default Title';
});
```

#### **2. åŠ¨æ€ `header` å’Œ `footer` å†…å®¹**
å¦‚æœéœ€è¦æ ¹æ®é¡µé¢åŠ¨æ€ä¿®æ”¹ `header` å’Œ `footer` çš„å†…å®¹ï¼Œå¯ä»¥é€šè¿‡ç»‘å®šæ•°æ®æˆ–è®¡ç®—å±æ€§å®ç°ã€‚

- ç¤ºä¾‹ï¼š
  ```html
  <template>
    <div>
      <header>{{ currentHeader }}</header>
      <RouterView></RouterView>
      <footer>{{ currentFooter }}</footer>
    </div>
  </template>

  <script>
  export default {
    computed: {
      currentHeader() {
        // æ ¹æ®è·¯ç”±åç§°åŠ¨æ€è¿”å›æ ‡é¢˜
        const routeName = this.$route.name;
        return routeName === 'home' ? 'Welcome Home' : 'Learn About Us';
      },
      currentFooter() {
        const routeName = this.$route.name;
        return routeName === 'home' ? 'Footer for Home' : 'Footer for About';
      },
    },
  };
  </script>
  ```

#### **3. åŠ¨æ€éšè—æˆ–æ˜¾ç¤º `header` å’Œ `footer`**
å¯ä»¥é€šè¿‡è·¯ç”± `meta` å±æ€§æ§åˆ¶ `header` å’Œ `footer` çš„æ˜¾ç¤º/éšè—ï¼š

- é…ç½®è·¯ç”±æ—¶æ·»åŠ  `meta` æ ‡å¿—ï¼š
  ```javascript
  const routes = [
    { path: '/', component: Home, meta: { showHeader: true, showFooter: true } },
    { path: '/login', component: Login, meta: { showHeader: false, showFooter: false } },
  ];
  ```

- ä½¿ç”¨ `v-if` åˆ¤æ–­æ˜¯å¦æ¸²æŸ“ï¼š
  ```html
  <template>
    <div>
      <header v-if="$route.meta.showHeader">My Header</header>
      <RouterView></RouterView>
      <footer v-if="$route.meta.showFooter">My Footer</footer>
    </div>
  </template>
  ```

## äº”ã€ç»“åˆé¡¹ç›®çš„è·¯ç”±å®ç°
### (1) å®ç°è·¯ç”±å’Œç•Œé¢å†…è·³è½¬
é¦–å…ˆï¼Œåœ¨ `routes/index.ts` ä¸‹, å®šä¹‰ Routes, router éƒ¨åˆ†, å®šä¹‰å‡ºè·¯ç”±; 
```ts
import { createRouter, createWebHistory, RouteRecordRaw } from "vue-router";
import WelcomePage from "@pages/Welcome/WelcomePage.vue";
import HomePage from "@pages/Home/HomePage.vue";
import AboutPage from "@pages/About/AboutPage.vue";

const routes: Array<RouteRecordRaw> = [
    {
        path: "/",
        name: "Welcome",
        component: WelcomePage,
    },
    {
        path: "/about",
        name: "About",
        component: AboutPage,
    },
];

const router = createRouter({
    history: createWebHistory(), // use createWebHistory to use the HTML5 history API
    routes,
});
export default router;
```

è·¯ç”±éœ€è¦ä½¿ç”¨ `app.use(route)`ï¼Œ **å¹¶ç¡®ä¿åœ¨è°ƒç”¨ `app.mount('#app')` ä¹‹å‰ï¼Œé€šè¿‡ `app.use(router)` å°†è·¯ç”±æ³¨å†Œåˆ°åº”ç”¨å®ä¾‹ä¸­**ã€‚
å› æ­¤éœ€è¦åœ¨ main.js ä¸­é‡‡ç”¨: `import router from "@router/index"; // ! import router`  

å°† App.js æ”¹é€ ä¸º :  
```vue
<template>
    <!-- App.vue, define the main template of the app -->
    <div id="app">
        <RouterView />
        <!-- use the router view for page rendering -->
    </div>
</template>
```

ä¸Šè¿°çš„æ–¹æ³•æ˜¯<b><mark style="background: transparent; color: orange">å•ä¸ªè·¯ç”±ç•Œé¢çš„æ–¹å¼ ï¼Œ å³æ•´ä¸ªåº”ç”¨ä»…é‡‡ç”¨ä¸€ä¸ª RouterView è¿›è¡Œ,  è¿™æ˜¯ä¸€ç§å¾ˆå¥½çš„æ„å»ºå•é¡µé¢åº”ç”¨çš„æ–¹å¼</mark></b>ã€‚é€šå¸¸å°† `RouterView` æ”¾åœ¨ `App.vue` ä¸­ï¼Œé€šè¿‡è·¯ç”±é…ç½®åŠ¨æ€æ¸²æŸ“æ•´ä¸ªåº”ç”¨çš„å†…å®¹ã€‚

å…¶ä¸­,  å¯¹äºé¡µé¢ä¸å¤šï¼Œé€»è¾‘ç®€å•çš„æƒ…å†µï¼Œå•ä¸ª `RouterView` è¶³å¤Ÿä½¿ç”¨ã€‚ ä½†æ˜¯å¦‚æœ**éœ€è¦ä¸åŒéƒ¨åˆ†åŠ¨æ€åŠ è½½ä¸åŒå†…å®¹ï¼ˆå¦‚ä¸»åŒºåŸŸå’Œä¾§è¾¹æ ï¼‰ï¼Œæ— æ³•ç›´æ¥æ»¡è¶³éœ€æ±‚**ã€‚

ä½†æ˜¯ï¼Œ å®é™…ä¸Šæˆ‘ä»¬ä¸€èˆ¬ç›´æ¥é‡‡ç”¨å•è·¯ç”±å¸ƒå±€å³å¯ï¼Œ ç„¶åä¸ºæ¯ä¸ªé¡µé¢å•ç‹¬é‡‡ç”¨æ‰€éœ€è¦å¸ƒå±€ï¼Œå³èƒ½å¤Ÿå®ç°æ›´é«˜çš„çµæ´»æ€§ã€‚
### (2) å¤šè·¯ç”±å¸ƒå±€æ–¹æ¡ˆ
åœ¨ä¸åŒä½ç½®æ”¾ç½®å¤šä¸ª `RouterView`ï¼Œé€šè¿‡å‘½åè·¯ç”±è§†å›¾åŠ¨æ€åŠ è½½ä¸åŒåŒºåŸŸçš„å†…å®¹ã€‚ä¾‹å¦‚: 
```vue
<template>
  <div id="app">
    <header>Header Content</header>
    <main>
      <RouterView name="main" /> <!-- ä¸»å†…å®¹ -->
      <RouterView name="sidebar" /> <!-- ä¾§è¾¹æ  -->
    </main>
    <footer>Footer Content</footer>
  </div>
</template>
```
ç”¨æ³•å¦‚ä¸‹: 
```javascript
const routes = [
  {
    path: '/',
    components: {
      main: HomeView,
      sidebar: SidebarView,
    },
  },
  {
    path: '/about',
    components: {
      main: AboutView,
      sidebar: SidebarAboutView,
    },
  },
];
```

ä½†æ˜¯è¿™æ ·å¯¹äºæ²¡æœ‰ä¾§è¾¹æ çš„ç•Œé¢ï¼Œ å¯èƒ½éœ€è¦ç¼–å†™å¤æ‚é€»è¾‘è¿›è¡Œæ§åˆ¶ã€‚



åœ¨ Vue é¡¹ç›®ä¸­ï¼Œé€šå¸¸æ¨èé€šè¿‡è·¯ç”±ç®¡ç†é¡µé¢ï¼ˆå¦‚ `login` å’Œ `register`ï¼‰çš„å¯¼èˆªï¼Œè€Œä¸æ˜¯åœ¨æ¯ä¸ªé¡µé¢ä¸Šå•ç‹¬è°ƒç”¨ `app.mount`ã€‚å¦‚æœä½ æƒ³åœ¨ `auth.vue` ä¸Šé›†ä¸­ç®¡ç†ç™»å½•å’Œæ³¨å†Œé¡µé¢ï¼Œå¯ä»¥é€šè¿‡åµŒå¥—è·¯ç”±çš„æ–¹å¼æ¥å®ç°ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¯èƒ½çš„è®¾è®¡æ–¹æ¡ˆï¼š

---

### 1. **é¡¹ç›®ç»“æ„**

å‡è®¾ä½ çš„é¡¹ç›®æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š

```
src/
â”œâ”€â”€ main.js
â”œâ”€â”€ App.vue
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ Auth.vue          # åŒ…å« login å’Œ register çš„çˆ¶ç»„ä»¶
â”‚   â”œâ”€â”€ Login.vue         # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ Register.vue      # æ³¨å†Œé¡µé¢
â”œâ”€â”€ router/
â”‚   â””â”€â”€ index.js          # è·¯ç”±é…ç½®
```

---

### 2. **`Auth.vue` (çˆ¶ç»„ä»¶)**

`Auth.vue` ä½œä¸º `login` å’Œ `register` çš„å®¹å™¨ï¼Œä½¿ç”¨ `<router-view>` åŠ¨æ€åˆ‡æ¢å­é¡µé¢ï¼š

```vue
<template>
  <v-container>
    <v-card>
      <router-view />
    </v-card>
  </v-container>
</template>

<script>
export default {
  name: "Auth",
};
</script>

<style scoped>
/* å¯æ ¹æ®éœ€è¦æ·»åŠ æ ·å¼ */
</style>
```

---

### 3. **`Login.vue` å’Œ `Register.vue` (å­é¡µé¢)**

#### `Login.vue`:

```vue
<template>
  <div>
    <h2>Login Page</h2>
    <v-btn @click="$router.push('/auth/register')">Go to Register</v-btn>
  </div>
</template>

<script>
export default {
  name: "Login",
};
</script>
```

#### `Register.vue`:

```vue
<template>
  <div>
    <h2>Register Page</h2>
    <v-btn @click="$router.push('/auth/login')">Go to Login</v-btn>
  </div>
</template>

<script>
export default {
  name: "Register",
};
</script>
```

---

### 4. **è·¯ç”±é…ç½®**

åœ¨ `router/index.js` ä¸­é…ç½®åµŒå¥—è·¯ç”±ï¼š

```javascript
import { createRouter, createWebHistory } from 'vue-router';
import Auth from '@/views/Auth.vue';
import Login from '@/views/Login.vue';
import Register from '@/views/Register.vue';

const routes = [
  {
    path: '/auth',
    component: Auth, // çˆ¶ç»„ä»¶
    children: [
      {
        path: 'login',
        component: Login, // ç™»å½•é¡µé¢
      },
      {
        path: 'register',
        component: Register, // æ³¨å†Œé¡µé¢
      },
      {
        path: '', // é»˜è®¤é‡å®šå‘åˆ° login
        redirect: 'login',
      },
    ],
  },
];

const router = createRouter({
  history: createWebHistory(),
  routes,
});

export default router;
```

---

### 5. **ä¸»å…¥å£ `main.js`**

åœ¨ `main.js` ä¸­æ³¨å†Œè·¯ç”±ï¼Œå¹¶æŒ‚è½½æ•´ä¸ªåº”ç”¨ï¼š

```javascript
import { createApp } from 'vue';
import App from './App.vue';
import router from './router';

import { createVuetify } from 'vuetify';
import 'vuetify/styles';

const vuetify = createVuetify();

createApp(App)
  .use(router)
  .use(vuetify)
  .mount('#app');
```

---

### 6. **å®ç°æ•ˆæœ**

- è®¿é—® `/auth/login` æ˜¾ç¤ºç™»å½•é¡µé¢ã€‚
- è®¿é—® `/auth/register` æ˜¾ç¤ºæ³¨å†Œé¡µé¢ã€‚
- `/auth` é»˜è®¤ä¼šé‡å®šå‘åˆ° `/auth/login`ã€‚

---

### è¿™æ ·è®¾è®¡çš„å¥½å¤„

1. **è·¯ç”±é›†ä¸­ç®¡ç†**ï¼šé€šè¿‡ `router` å®šä¹‰é¡µé¢çš„å¯¼èˆªé€»è¾‘ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œæ‰©å±•ã€‚
2. **åµŒå¥—è·¯ç”±**ï¼šå°† `auth.vue` ä½œä¸ºçˆ¶ç»„ä»¶ï¼Œæä¾›ç»Ÿä¸€çš„å¸ƒå±€å’Œæ ·å¼ã€‚
3. **åŠ¨æ€åˆ‡æ¢**ï¼šæ— éœ€é‡æ–°æŒ‚è½½åº”ç”¨ï¼Œé¡µé¢åˆ‡æ¢æ•ˆç‡æ›´é«˜ã€‚

å¦‚æœä½ ç¡®å®æƒ³ä¸ºæ¯ä¸ªé¡µé¢å•ç‹¬æŒ‚è½½åº”ç”¨ï¼Œè¯·è¯´æ˜ä½ çš„ç‰¹æ®Šéœ€æ±‚ï¼Œæˆ‘å¯ä»¥æä¾›è¿›ä¸€æ­¥å»ºè®®ã€‚ä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ç§æ–¹æ³•æ˜¯æ¨èçš„æœ€ä½³å®è·µã€‚