# 库元器件的查找
最常用的两个库包括原理图库(符号库)和PCB库(封装库), 其中 
![[attachments/Pasted image 20240526103905.png|600]]

对于整体的PCB制作流程, 可以参考文档教程部分:
![[attachments/Pasted image 20240526105314.png|700]]

网络名上方添加横线 可以使用 `~VSS` 进行添加 

PCB设计总体流程如下图:
![[attachments/Pasted image 20240526105803.png|1000]]
总体包括元件下单, PCB下单和3D外壳下单等等


# 工程基本信息设计
在设置 -> 图纸中可以找到界面, 修改默认信息, 对于比较大的原理图, 可以设置为A3原理图

![[attachments/Pasted image 20240526121639.png]]

# 绘制元器件库的教程
对于库中没有的元器件, 需要**自己绘制器件, 并绑定符号和封装**， 而一般我们都是新建一个元器件库, 具体参考[prodocs.lceda.cn/cn/faq/client/index.html](https://prodocs.lceda.cn/cn/faq/client/index.html), 
元件库包含了原理图库和PCB库, **一般都会在数据手册中进行给出**,
### (1) 原理图的绘制
首先新建元件, 通过设置 > 原理图 > 通用 调整网格大小, 同时使用alt吸附功能可以调整更小的网格设定。 包括符号和alt吸附部分。

引脚的放置是在上方设置的:
![[attachments/Pasted image 20240526123248.png]]
灰色圆圈代表和外界进行连接的点。 
绘制好的引脚部分如图所示:
![[attachments/Pasted image 20240526123906.png|400]]
为了让器件有对应的U1, U2类似的选项， 应调整的是其**位号选项**, 即位号改为R?
![[attachments/Pasted image 20240526124226.png]]
要求是**引脚号和引脚的名称必须是对应的**，才能保证整个功能的正确性。 

#### 1. 修改网络名称
在修改网络名称时, 需要使用查找功能, 即使用 ctrl+F 获取搜框, 然后勾选网络和引脚
![[attachments/Pasted image 20240528010750.png|1200]]
选用"替换"并将所有的PA15替换为PA15/JTDI即可

#### 2. 设计规则和DRC检查 
选择设计 > 设计规则 > 立即检查
![[attachments/Pasted image 20240528011448.png]]
元件连线完毕之后， 使用检查DRC按键可以查看里面的所有编译警告和相关的信息，必须调试直到整个过程没有警告和错误。
![[attachments/Pasted image 20240527182623.png|800]]
通过上述按钮可以检查DRC的使用;

### (2) 封装的绘制过程
首先在工具 > 封装管理器中有对应的封装办法, 
![[attachments/Pasted image 20240528022725.png|1100]]

### 3. 器件标准化方法
选择导出 > 物料清单时, 则会弹出"器件标准化"窗口, 而对应的
![[attachments/Pasted image 20240528102440.png]]

首先检查对应的器件的属性值是否符合要求, 如果符合即可选择"使用推荐器件"

在原理图的导出部分, 可以导出网络表文件, 对于其他的软件, 可能需要先从原理图导出网表,然后再从PCB界面导入网表, 而嘉立创也可以导入网表。包括器件名称, 网络, PCB封装等等。 

# 网名命名的注意事项
在网名命名时, 直接通过上方进行命名即可
但是需要注意: 在网络名字移动时, 会在左下角有一个小十字
![[attachments/Pasted image 20240527103449.png]]
为了保证网络附加正确， <b><mark style="background: transparent; color: blue">必须将小十字放在对应的导线上</mark></b>， 否则不会正确附加

一般而言， 习惯性地将十字放在端口上。


# STM32 核心板制作教程
我们以主控是 STM32 F103RET6的板子来进行对应的教程, 
参考[[💻softwares/⚡Circuit/💻51单片机教程/1. 基础部分/51单片机最小系统简介|51单片机最小系统简介]], [[💻softwares/⚡Circuit/⚛️Proteus/单片机仿真方法/51单片机最小系统的搭建|51单片机最小系统的搭建]], 主要包括3.3V稳压输出电路, 复位电路, 外部晶振电路, 低速晶振以及等等。

### 1. 5V 转 3.3V 稳压芯片
最常用的稳压芯片是 AMS1117 稳压芯片, 如图, 可以对5V输入电压进行稳压
![[attachments/Pasted image 20240527112415.png]] 

根据参考电压是1.25V, 则V_OUT = 3.3V, 可取$R_{1}=1000\Omega$ 
![[attachments/Pasted image 20240527124903.png]]

### 2. Micro 接口的绘制方法
在USB的端口VBUS(即1号)端口, 往往会加上一个保险丝来进行保护。最常用的是 nSMD series 系列的保险丝, 对于过流保护的选择, 参考RCT6的原理图, 其中F表示Fuse, 对应的500mA为相应的
![[attachments/Pasted image 20240527153543.png|400]]
一般选用nSMD050即可实现要求。
![[attachments/Pasted image 20240527152715.png]]

另外, 在USB+上, 需要添加一个1.5k$\Omega$的上拉电阻， 保证能够正确识别。 绘制得到的部分如图所示,  
![[attachments/Pasted image 20240527160249.png]]

### 3. 晶振电路
为了保证晶振准确, 通常需要调节所对应的负载电容, 这个可以从对应的手册中查找到, 晶振外接入的两个电容必须符合负载电容, 如下图中的 7pF 
![[attachments/Pasted image 20240528015620.png]]
此时32.768kHz中必须使用7pF 作为负载电容$C_L$ 

而考虑到杂散电容Cs的存在, 我们一般假定一个附加的杂散电容, 一般取5pF即为合适的经验值, 因此, 实际使用的晶振电容应当为 7pF + 5pF = 12 pF
对应地，常用的8MHz晶振的负载电容，负载电容一般为 15pF, 对应我们则选取 20pF 为起振电容(即实际使用的电容)

需要说明的是, 一般在分隔线中直接选用直线即可, 一般不使用方框作为分割线。

对于<b><mark style="background: transparent; color: blue">电源模块, 输入的电流是比较大的</mark></b>, 因此布线一定要注意;

对于PA5, PA6, pA7等SPI高速通信线的布线方案, 应当尽可能保证长度一致。 

# PCB板下单操作 
首先下单入口在 下单 > 嘉立创 PCB/SMT 
![[attachments/Pasted image 20240526103031.png]]

生成PCB下单文件时, 在顶部菜单 - 导出 - PCB制板文件Gerber


# 3D 打印外壳下单

可以在 Embed > 3D Printing 中的三维猴下单