在编程中十六进制使用 `0x` 或者 `0X` 放在前面进行表示

例如 0x01 = 0000 0001 

C语言中的基本类型如下:  
![[attachments/Pasted image 20231206215405.png|340]]

# C51中的数据类型

基本数据类型

| 数据类型      | 位数     | 表示数的范围       |
| ------------- | -------- | ------------------ |
| unsigned char | 8        | 0-255              |
| char          | 8        | -128-127           |
| int           | 16       | -32768-32767       |
| unsigned char | 16       | 0-65535            |
| long          | 32       |                    |
| unsigned long |          | 0-2^32-1           |
| float         | 32       | 3.4e-38 - 3.4 e38  |
| double        | 64(8bit) | 1.7e-308 - 1.7e308 |

其中short短整型 


扩充数据类型有如下几个: 

| type  | length       | value   |                                        |
| ----- | ------------ | ------- | -------------------------------------- |
| bit   | 位           | 0, 1    | 位变量声明                             |
| sbit  | 位           | 0, 1    | 特殊功能位声明, 可以进行管脚功能位定义 |
| sfr   | 8位 = 1字节  | 0-255   | 特殊功能的寄存器的声明(在regx52中找到) |
| sfr16 | 16位 = 2字节 | 0-65535 | 特殊功能16位寄存器声明                   |
| *     | 1-3字节      |         | 对象地址                               | 

```c 
sfr SCON  = 0x98;  // 定义(特殊功能)寄存器 SCON 0x98 对应单片机中的实际地址 
sbit TI = SCON^1;    // 特殊功能的位声明， 其中0是
// 位变量需要使用 ^ 符号。

sbit btn1 = P3^0
// 需要说明 

``` 


# 获取sbit中某一位的函数方法

`<<` 左移: 左边丢弃，右边补0 
`>>` 右移:  算数右移, 右边丢弃, 左边补原来的符号位, 逻辑右移, 右边丢弃, 左边补0 (此处无论左移或者右移都是丢弃对应的然后补0)

我们给出按照从高到低的顺序获取的代
注意循环, 最后一次不满足条件则不执行, 即**i始终满足for第二个条件**, 

方法是利用循环移位<b><mark style="background: transparent; color: blue">将其他的位全部丢弃</mark></b>之后, 将得到的结果作为实际结果进行输出。

说明: 在使用sbit整体为管脚赋值时, 有1则出1, 全0则管脚为0
```c
P01 = 0x10  // 等同于P01 = 1, 只要不是00全都是1
P01 = 0x00 // 等同于P01 =  0
```

给出典型错误代码 : 
```c
// 要获取哪一位，就将数据向右移动几位 
void get_data(u8 datax){
	for (int i = 7; i > 0; i--){ // 最后一次是右移0位
		P3_1 = datax >> i;     // 依次按照从高位到低位
		// 注意: 由于没有舍弃高位的1,导致输出发生错误。
	}
}
```

为了将其余的位全部丢弃, 则
`````ad-caution 
title: 正确代码(常用此作为模板代码)
collapse: open
```c
// 注意: 共循环8次, 循环值为0-7
void get_data(u8 value){
	for (int i = 0; i < 8; i++){ // 最后一次是右移0位
		P3_1 = value >> 7;     // 依次按照从高位到低位
		datax <<= 1;                // 此处在for循环内嵌套一个data, 每次自行左移一位
	}
}
```
`````
