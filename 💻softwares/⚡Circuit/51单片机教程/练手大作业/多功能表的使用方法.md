
# LED多功能电子表的编写

实现: 4种功能的电子表, 
1. 首先开机自检, 检查LED是否完好。

## 时钟模式 
默认模式0为时钟, K1控制进入设置,  设置时, 每按键一次, 小时, 分, 秒, 星期等依次闪烁, 并通过多次按键进行循环控制, 如果6秒不按下按键则退出设置模式。

当某个数字闪烁时，可以利用K2, K3控制加减,

**在每一位上加小数点时**， 只需设置P0_7 = 1, 即与 1000 0000 进行或运算。
K4控制清零。当秒数回零时, 计时器必须重置(从s的开始时进行计时), 另外， 默认的星期是星期日为0, 

|      | 小时 | 分  | 秒  | 空格 | 星期 |
| ---- | ---- | --- | --- | ---- | ---- |
| 格式 | 19   | 49  | 21  |      | 4    | 


2. 设置闹钟功能,  在**长按K1(超过2秒)时**, 则切换到闹钟设置, 默认为00:00, 并可以开启或者关闭闹钟, 

闹钟可以精确到秒, p 表示开启, f 表示关闭, 默认为f，
设置闹钟为p时， 达到时间自动响铃， 显示CL 

## 倒计时
倒计时功能中, 按下K1键可以设置倒计时的长短, 设置倒计时长短时, 每一位会闪烁, 并通过K2, K3控制加减

在闪烁完毕之后， 按下K4开始倒计时, 短按K4切换倒计时的启动/暂停状态, 长按K4复位清零。

在计时开始之后，切换到其他模式下， 倒计时仍然进行。倒计时结束后， 自动响铃并显示CL。

### 秒表功能
秒表功能提供基本精确到10ms量级的秒表,  并有启动停止功能。

短按K1控制启动和暂停。
按下K4 键秒表复位。

秒表功能仅在秒表模式下有效, 若中途倒计时结束响铃发生, 秒表继续进行记录。

如果长按K1退出秒表模式， 则秒表继续计时，如果计时时间过长导致爆表, 则自动重置并响铃， 显示Err。


之后可以试试无限通信控制该表。